import{a as Go,b as Ho,c as Qo}from"./chunk-3D4TQTEF.js";import{a as Qr,b as Jo}from"./chunk-X5LWDADS.js";import{c as Gr,d as Hr}from"./chunk-ENM4NOVD.js";import{a as ti,b as ri}from"./chunk-3TKHK7DL.js";import{a as $o}from"./chunk-DCAD6RNH.js";import{a as Gt}from"./chunk-O3SRXZ6G.js";import{a as ei}from"./chunk-WIRIMW56.js";import{a as To,c as Po,d as Ao,e as Io}from"./chunk-5UAWEPHZ.js";import{m as Xn}from"./chunk-L7JGJGTX.js";import{a as Xo}from"./chunk-SGXGVKVF.js";import{b as Zo}from"./chunk-7CUJPHMK.js";import{d as Yo,e as Ko}from"./chunk-EQLXSBQK.js";import{A as No,D as Bo,E as Uo,G as Wo,o as ko,s as jo,t as zo,w as Lo,z as Fo}from"./chunk-3KSFBAUP.js";import"./chunk-BLOXM7VH.js";import{b as qo,c as Vo}from"./chunk-RUYHRMRN.js";import{g as Nr,i as Ur,j as Wr,k as qr,l as Vr}from"./chunk-DA5S727S.js";import{Ia as So,La as Lr,Oa as Oo,Pa as Ro,Sa as Mo,Xa as wt,Ya as Eo,b as wo,kb as Do,lb as Fr,mb as Ct,rb as Br,sb as St,wa as Co}from"./chunk-YJSGKVHH.js";import{$ as xt,$a as He,Ab as we,Bb as Ir,Db as Nt,F as fo,Jb as se,K as po,Kb as fe,Lb as Me,Pb as ze,Rb as Le,Sb as Ie,V as ho,Va as Ar,Vc as zr,W as mo,Wc as _o,Yb as Dr,Zb as kr,_ as Pr,_a as pe,_b as jr,ad as xo,bc as yo,bd as bo,cc as xe,d as uo,da as vo,dc as it,dd as Ye,e as co,ec as ke,f as so,gc as Bt,hc as Ut,ic as Wt,kc as $e,l as Hn,lb as ot,ma as go,mb as bt,n as lo,na as Pe,oa as Ae,sb as Be,uc as Je,vc as qt,wa as Qn,wc as Vt,yc as Ue}from"./chunk-TMGVZNBO.js";var si=uo((Jr,$n)=>{"use strict";(function(t,o){typeof Jr=="object"&&typeof $n=="object"?$n.exports=o():typeof define=="function"&&define.amd?define([],o):typeof Jr=="object"?Jr.Quagga=o():t.Quagga=o()})(window,function(){return function(t){var o={};function e(n){if(o[n])return o[n].exports;var i=o[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=o,e.d=function(n,i,s){e.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:s})},e.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,i){if(1&i&&(n=e(n)),8&i||4&i&&typeof n=="object"&&n&&n.__esModule)return n;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:n}),2&i&&typeof n!="string")for(var l in n)e.d(s,l,function(h){return n[h]}.bind(null,l));return s},e.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(i,"a",i),i},e.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},e.p="/",e(e.s=73)}([function(t,o,e){var n=e(61);t.exports=function(i,s,l){return(s=n(s))in i?Object.defineProperty(i,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[s]=l,i},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,o){t.exports=function(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,o){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,o){t.exports=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,o,e){var n=e(61);function i(s,l){for(var h=0;h<l.length;h++){var w=l[h];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(s,n(w.key),w)}}t.exports=function(s,l,h){return l&&i(s.prototype,l),h&&i(s,h),Object.defineProperty(s,"prototype",{writable:!1}),s},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,o,e){"use strict";e.d(o,"a",function(){return n}),e.d(o,"b",function(){return i}),e.d(o,"c",function(){return s}),e.d(o,"d",function(){return l});var n={};e.r(n),e.d(n,"EPSILON",function(){return h}),e.d(n,"ARRAY_TYPE",function(){return w}),e.d(n,"RANDOM",function(){return S}),e.d(n,"setMatrixArrayType",function(){return R}),e.d(n,"toRadian",function(){return D}),e.d(n,"equals",function(){return H});var i={};e.r(i),e.d(i,"create",function(){return ee}),e.d(i,"clone",function(){return te}),e.d(i,"copy",function(){return ie}),e.d(i,"identity",function(){return B}),e.d(i,"fromValues",function(){return k}),e.d(i,"set",function(){return E}),e.d(i,"transpose",function(){return C}),e.d(i,"invert",function(){return P}),e.d(i,"adjoint",function(){return F}),e.d(i,"determinant",function(){return A}),e.d(i,"multiply",function(){return X}),e.d(i,"rotate",function(){return I}),e.d(i,"scale",function(){return V}),e.d(i,"fromRotation",function(){return M}),e.d(i,"fromScaling",function(){return Q}),e.d(i,"str",function(){return K}),e.d(i,"frob",function(){return J}),e.d(i,"LDU",function(){return $}),e.d(i,"add",function(){return ae}),e.d(i,"subtract",function(){return re}),e.d(i,"exactEquals",function(){return ne}),e.d(i,"equals",function(){return de}),e.d(i,"multiplyScalar",function(){return z}),e.d(i,"multiplyScalarAndAdd",function(){return L}),e.d(i,"mul",function(){return W}),e.d(i,"sub",function(){return ce});var s={};e.r(s),e.d(s,"create",function(){return ue}),e.d(s,"clone",function(){return ve}),e.d(s,"fromValues",function(){return _e}),e.d(s,"copy",function(){return Ce}),e.d(s,"set",function(){return Oe}),e.d(s,"add",function(){return Te}),e.d(s,"subtract",function(){return Fe}),e.d(s,"multiply",function(){return je}),e.d(s,"divide",function(){return Zt}),e.d(s,"ceil",function(){return pn}),e.d(s,"floor",function(){return Jt}),e.d(s,"min",function(){return ht}),e.d(s,"max",function(){return hn}),e.d(s,"round",function(){return mn}),e.d(s,"scale",function(){return er}),e.d(s,"scaleAndAdd",function(){return vn}),e.d(s,"distance",function(){return tr}),e.d(s,"squaredDistance",function(){return rr}),e.d(s,"length",function(){return Pt}),e.d(s,"squaredLength",function(){return nr}),e.d(s,"negate",function(){return At}),e.d(s,"inverse",function(){return or}),e.d(s,"normalize",function(){return ir}),e.d(s,"dot",function(){return ar}),e.d(s,"cross",function(){return It}),e.d(s,"lerp",function(){return gn}),e.d(s,"random",function(){return yn}),e.d(s,"transformMat2",function(){return ur}),e.d(s,"transformMat2d",function(){return _n}),e.d(s,"transformMat3",function(){return cr}),e.d(s,"transformMat4",function(){return sr}),e.d(s,"rotate",function(){return Qe}),e.d(s,"angle",function(){return xn}),e.d(s,"zero",function(){return lr}),e.d(s,"str",function(){return bn}),e.d(s,"exactEquals",function(){return wn}),e.d(s,"equals",function(){return fr}),e.d(s,"len",function(){return dr}),e.d(s,"sub",function(){return Cn}),e.d(s,"mul",function(){return pr}),e.d(s,"div",function(){return hr}),e.d(s,"dist",function(){return Sn}),e.d(s,"sqrDist",function(){return mr}),e.d(s,"sqrLen",function(){return On}),e.d(s,"forEach",function(){return vr});var l={};e.r(l),e.d(l,"create",function(){return at}),e.d(l,"clone",function(){return mt}),e.d(l,"length",function(){return Dt}),e.d(l,"fromValues",function(){return Rn}),e.d(l,"copy",function(){return gr}),e.d(l,"set",function(){return ut}),e.d(l,"add",function(){return kt}),e.d(l,"subtract",function(){return Xe}),e.d(l,"multiply",function(){return yr}),e.d(l,"divide",function(){return _r}),e.d(l,"ceil",function(){return Mn}),e.d(l,"floor",function(){return En}),e.d(l,"min",function(){return nt}),e.d(l,"max",function(){return jt}),e.d(l,"round",function(){return xr}),e.d(l,"scale",function(){return Tn}),e.d(l,"scaleAndAdd",function(){return Pn}),e.d(l,"distance",function(){return br}),e.d(l,"squaredDistance",function(){return wr}),e.d(l,"squaredLength",function(){return zt}),e.d(l,"negate",function(){return An}),e.d(l,"inverse",function(){return In}),e.d(l,"normalize",function(){return Cr}),e.d(l,"dot",function(){return ct}),e.d(l,"cross",function(){return st}),e.d(l,"lerp",function(){return vt}),e.d(l,"hermite",function(){return Sr}),e.d(l,"bezier",function(){return Dn}),e.d(l,"random",function(){return qe}),e.d(l,"transformMat4",function(){return gt}),e.d(l,"transformMat3",function(){return Or}),e.d(l,"transformQuat",function(){return kn}),e.d(l,"rotateX",function(){return jn}),e.d(l,"rotateY",function(){return yt}),e.d(l,"rotateZ",function(){return Rr}),e.d(l,"angle",function(){return zn}),e.d(l,"zero",function(){return Ln}),e.d(l,"str",function(){return Fn}),e.d(l,"exactEquals",function(){return Nn}),e.d(l,"equals",function(){return Bn}),e.d(l,"sub",function(){return Mr}),e.d(l,"mul",function(){return Un}),e.d(l,"div",function(){return Wn}),e.d(l,"dist",function(){return Er}),e.d(l,"sqrDist",function(){return qn}),e.d(l,"len",function(){return Lt}),e.d(l,"sqrLen",function(){return Vn}),e.d(l,"forEach",function(){return Tr});var h=1e-6,w=typeof Float32Array<"u"?Float32Array:Array,S=Math.random;function R(c){w=c}var N=Math.PI/180;function D(c){return c*N}function H(c,p){return Math.abs(c-p)<=h*Math.max(1,Math.abs(c),Math.abs(p))}function ee(){var c=new w(4);return w!=Float32Array&&(c[1]=0,c[2]=0),c[0]=1,c[3]=1,c}function te(c){var p=new w(4);return p[0]=c[0],p[1]=c[1],p[2]=c[2],p[3]=c[3],p}function ie(c,p){return c[0]=p[0],c[1]=p[1],c[2]=p[2],c[3]=p[3],c}function B(c){return c[0]=1,c[1]=0,c[2]=0,c[3]=1,c}function k(c,p,y,T){var j=new w(4);return j[0]=c,j[1]=p,j[2]=y,j[3]=T,j}function E(c,p,y,T,j){return c[0]=p,c[1]=y,c[2]=T,c[3]=j,c}function C(c,p){if(c===p){var y=p[1];c[1]=p[2],c[2]=y}else c[0]=p[0],c[1]=p[2],c[2]=p[1],c[3]=p[3];return c}function P(c,p){var y=p[0],T=p[1],j=p[2],q=p[3],oe=y*q-j*T;return oe?(oe=1/oe,c[0]=q*oe,c[1]=-T*oe,c[2]=-j*oe,c[3]=y*oe,c):null}function F(c,p){var y=p[0];return c[0]=p[3],c[1]=-p[1],c[2]=-p[2],c[3]=y,c}function A(c){return c[0]*c[3]-c[2]*c[1]}function X(c,p,y){var T=p[0],j=p[1],q=p[2],oe=p[3],le=y[0],ye=y[1],Ee=y[2],De=y[3];return c[0]=T*le+q*ye,c[1]=j*le+oe*ye,c[2]=T*Ee+q*De,c[3]=j*Ee+oe*De,c}function I(c,p,y){var T=p[0],j=p[1],q=p[2],oe=p[3],le=Math.sin(y),ye=Math.cos(y);return c[0]=T*ye+q*le,c[1]=j*ye+oe*le,c[2]=T*-le+q*ye,c[3]=j*-le+oe*ye,c}function V(c,p,y){var T=p[0],j=p[1],q=p[2],oe=p[3],le=y[0],ye=y[1];return c[0]=T*le,c[1]=j*le,c[2]=q*ye,c[3]=oe*ye,c}function M(c,p){var y=Math.sin(p),T=Math.cos(p);return c[0]=T,c[1]=y,c[2]=-y,c[3]=T,c}function Q(c,p){return c[0]=p[0],c[1]=0,c[2]=0,c[3]=p[1],c}function K(c){return"mat2("+c[0]+", "+c[1]+", "+c[2]+", "+c[3]+")"}function J(c){return Math.hypot(c[0],c[1],c[2],c[3])}function $(c,p,y,T){return c[2]=T[2]/T[0],y[0]=T[0],y[1]=T[1],y[3]=T[3]-c[2]*y[1],[c,p,y]}function ae(c,p,y){return c[0]=p[0]+y[0],c[1]=p[1]+y[1],c[2]=p[2]+y[2],c[3]=p[3]+y[3],c}function re(c,p,y){return c[0]=p[0]-y[0],c[1]=p[1]-y[1],c[2]=p[2]-y[2],c[3]=p[3]-y[3],c}function ne(c,p){return c[0]===p[0]&&c[1]===p[1]&&c[2]===p[2]&&c[3]===p[3]}function de(c,p){var y=c[0],T=c[1],j=c[2],q=c[3],oe=p[0],le=p[1],ye=p[2],Ee=p[3];return Math.abs(y-oe)<=h*Math.max(1,Math.abs(y),Math.abs(oe))&&Math.abs(T-le)<=h*Math.max(1,Math.abs(T),Math.abs(le))&&Math.abs(j-ye)<=h*Math.max(1,Math.abs(j),Math.abs(ye))&&Math.abs(q-Ee)<=h*Math.max(1,Math.abs(q),Math.abs(Ee))}function z(c,p,y){return c[0]=p[0]*y,c[1]=p[1]*y,c[2]=p[2]*y,c[3]=p[3]*y,c}function L(c,p,y,T){return c[0]=p[0]+y[0]*T,c[1]=p[1]+y[1]*T,c[2]=p[2]+y[2]*T,c[3]=p[3]+y[3]*T,c}Math.hypot||(Math.hypot=function(){for(var c=0,p=arguments.length;p--;)c+=arguments[p]*arguments[p];return Math.sqrt(c)});var W=X,ce=re;function ue(){var c=new w(2);return w!=Float32Array&&(c[0]=0,c[1]=0),c}function ve(c){var p=new w(2);return p[0]=c[0],p[1]=c[1],p}function _e(c,p){var y=new w(2);return y[0]=c,y[1]=p,y}function Ce(c,p){return c[0]=p[0],c[1]=p[1],c}function Oe(c,p,y){return c[0]=p,c[1]=y,c}function Te(c,p,y){return c[0]=p[0]+y[0],c[1]=p[1]+y[1],c}function Fe(c,p,y){return c[0]=p[0]-y[0],c[1]=p[1]-y[1],c}function je(c,p,y){return c[0]=p[0]*y[0],c[1]=p[1]*y[1],c}function Zt(c,p,y){return c[0]=p[0]/y[0],c[1]=p[1]/y[1],c}function pn(c,p){return c[0]=Math.ceil(p[0]),c[1]=Math.ceil(p[1]),c}function Jt(c,p){return c[0]=Math.floor(p[0]),c[1]=Math.floor(p[1]),c}function ht(c,p,y){return c[0]=Math.min(p[0],y[0]),c[1]=Math.min(p[1],y[1]),c}function hn(c,p,y){return c[0]=Math.max(p[0],y[0]),c[1]=Math.max(p[1],y[1]),c}function mn(c,p){return c[0]=Math.round(p[0]),c[1]=Math.round(p[1]),c}function er(c,p,y){return c[0]=p[0]*y,c[1]=p[1]*y,c}function vn(c,p,y,T){return c[0]=p[0]+y[0]*T,c[1]=p[1]+y[1]*T,c}function tr(c,p){var y=p[0]-c[0],T=p[1]-c[1];return Math.hypot(y,T)}function rr(c,p){var y=p[0]-c[0],T=p[1]-c[1];return y*y+T*T}function Pt(c){var p=c[0],y=c[1];return Math.hypot(p,y)}function nr(c){var p=c[0],y=c[1];return p*p+y*y}function At(c,p){return c[0]=-p[0],c[1]=-p[1],c}function or(c,p){return c[0]=1/p[0],c[1]=1/p[1],c}function ir(c,p){var y=p[0],T=p[1],j=y*y+T*T;return j>0&&(j=1/Math.sqrt(j)),c[0]=p[0]*j,c[1]=p[1]*j,c}function ar(c,p){return c[0]*p[0]+c[1]*p[1]}function It(c,p,y){var T=p[0]*y[1]-p[1]*y[0];return c[0]=c[1]=0,c[2]=T,c}function gn(c,p,y,T){var j=p[0],q=p[1];return c[0]=j+T*(y[0]-j),c[1]=q+T*(y[1]-q),c}function yn(c,p){p=p||1;var y=2*S()*Math.PI;return c[0]=Math.cos(y)*p,c[1]=Math.sin(y)*p,c}function ur(c,p,y){var T=p[0],j=p[1];return c[0]=y[0]*T+y[2]*j,c[1]=y[1]*T+y[3]*j,c}function _n(c,p,y){var T=p[0],j=p[1];return c[0]=y[0]*T+y[2]*j+y[4],c[1]=y[1]*T+y[3]*j+y[5],c}function cr(c,p,y){var T=p[0],j=p[1];return c[0]=y[0]*T+y[3]*j+y[6],c[1]=y[1]*T+y[4]*j+y[7],c}function sr(c,p,y){var T=p[0],j=p[1];return c[0]=y[0]*T+y[4]*j+y[12],c[1]=y[1]*T+y[5]*j+y[13],c}function Qe(c,p,y,T){var j=p[0]-y[0],q=p[1]-y[1],oe=Math.sin(T),le=Math.cos(T);return c[0]=j*le-q*oe+y[0],c[1]=j*oe+q*le+y[1],c}function xn(c,p){var y=c[0],T=c[1],j=p[0],q=p[1],oe=Math.sqrt(y*y+T*T)*Math.sqrt(j*j+q*q),le=oe&&(y*j+T*q)/oe;return Math.acos(Math.min(Math.max(le,-1),1))}function lr(c){return c[0]=0,c[1]=0,c}function bn(c){return"vec2("+c[0]+", "+c[1]+")"}function wn(c,p){return c[0]===p[0]&&c[1]===p[1]}function fr(c,p){var y=c[0],T=c[1],j=p[0],q=p[1];return Math.abs(y-j)<=h*Math.max(1,Math.abs(y),Math.abs(j))&&Math.abs(T-q)<=h*Math.max(1,Math.abs(T),Math.abs(q))}var Ke,dr=Pt,Cn=Fe,pr=je,hr=Zt,Sn=tr,mr=rr,On=nr,vr=(Ke=ue(),function(c,p,y,T,j,q){var oe,le;for(p||(p=2),y||(y=0),le=T?Math.min(T*p+y,c.length):c.length,oe=y;oe<le;oe+=p)Ke[0]=c[oe],Ke[1]=c[oe+1],j(Ke,Ke,q),c[oe]=Ke[0],c[oe+1]=Ke[1];return c});function at(){var c=new w(3);return w!=Float32Array&&(c[0]=0,c[1]=0,c[2]=0),c}function mt(c){var p=new w(3);return p[0]=c[0],p[1]=c[1],p[2]=c[2],p}function Dt(c){var p=c[0],y=c[1],T=c[2];return Math.hypot(p,y,T)}function Rn(c,p,y){var T=new w(3);return T[0]=c,T[1]=p,T[2]=y,T}function gr(c,p){return c[0]=p[0],c[1]=p[1],c[2]=p[2],c}function ut(c,p,y,T){return c[0]=p,c[1]=y,c[2]=T,c}function kt(c,p,y){return c[0]=p[0]+y[0],c[1]=p[1]+y[1],c[2]=p[2]+y[2],c}function Xe(c,p,y){return c[0]=p[0]-y[0],c[1]=p[1]-y[1],c[2]=p[2]-y[2],c}function yr(c,p,y){return c[0]=p[0]*y[0],c[1]=p[1]*y[1],c[2]=p[2]*y[2],c}function _r(c,p,y){return c[0]=p[0]/y[0],c[1]=p[1]/y[1],c[2]=p[2]/y[2],c}function Mn(c,p){return c[0]=Math.ceil(p[0]),c[1]=Math.ceil(p[1]),c[2]=Math.ceil(p[2]),c}function En(c,p){return c[0]=Math.floor(p[0]),c[1]=Math.floor(p[1]),c[2]=Math.floor(p[2]),c}function nt(c,p,y){return c[0]=Math.min(p[0],y[0]),c[1]=Math.min(p[1],y[1]),c[2]=Math.min(p[2],y[2]),c}function jt(c,p,y){return c[0]=Math.max(p[0],y[0]),c[1]=Math.max(p[1],y[1]),c[2]=Math.max(p[2],y[2]),c}function xr(c,p){return c[0]=Math.round(p[0]),c[1]=Math.round(p[1]),c[2]=Math.round(p[2]),c}function Tn(c,p,y){return c[0]=p[0]*y,c[1]=p[1]*y,c[2]=p[2]*y,c}function Pn(c,p,y,T){return c[0]=p[0]+y[0]*T,c[1]=p[1]+y[1]*T,c[2]=p[2]+y[2]*T,c}function br(c,p){var y=p[0]-c[0],T=p[1]-c[1],j=p[2]-c[2];return Math.hypot(y,T,j)}function wr(c,p){var y=p[0]-c[0],T=p[1]-c[1],j=p[2]-c[2];return y*y+T*T+j*j}function zt(c){var p=c[0],y=c[1],T=c[2];return p*p+y*y+T*T}function An(c,p){return c[0]=-p[0],c[1]=-p[1],c[2]=-p[2],c}function In(c,p){return c[0]=1/p[0],c[1]=1/p[1],c[2]=1/p[2],c}function Cr(c,p){var y=p[0],T=p[1],j=p[2],q=y*y+T*T+j*j;return q>0&&(q=1/Math.sqrt(q)),c[0]=p[0]*q,c[1]=p[1]*q,c[2]=p[2]*q,c}function ct(c,p){return c[0]*p[0]+c[1]*p[1]+c[2]*p[2]}function st(c,p,y){var T=p[0],j=p[1],q=p[2],oe=y[0],le=y[1],ye=y[2];return c[0]=j*ye-q*le,c[1]=q*oe-T*ye,c[2]=T*le-j*oe,c}function vt(c,p,y,T){var j=p[0],q=p[1],oe=p[2];return c[0]=j+T*(y[0]-j),c[1]=q+T*(y[1]-q),c[2]=oe+T*(y[2]-oe),c}function Sr(c,p,y,T,j,q){var oe=q*q,le=oe*(2*q-3)+1,ye=oe*(q-2)+q,Ee=oe*(q-1),De=oe*(3-2*q);return c[0]=p[0]*le+y[0]*ye+T[0]*Ee+j[0]*De,c[1]=p[1]*le+y[1]*ye+T[1]*Ee+j[1]*De,c[2]=p[2]*le+y[2]*ye+T[2]*Ee+j[2]*De,c}function Dn(c,p,y,T,j,q){var oe=1-q,le=oe*oe,ye=q*q,Ee=le*oe,De=3*q*le,Ve=3*ye*oe,Ge=ye*q;return c[0]=p[0]*Ee+y[0]*De+T[0]*Ve+j[0]*Ge,c[1]=p[1]*Ee+y[1]*De+T[1]*Ve+j[1]*Ge,c[2]=p[2]*Ee+y[2]*De+T[2]*Ve+j[2]*Ge,c}function qe(c,p){p=p||1;var y=2*S()*Math.PI,T=2*S()-1,j=Math.sqrt(1-T*T)*p;return c[0]=Math.cos(y)*j,c[1]=Math.sin(y)*j,c[2]=T*p,c}function gt(c,p,y){var T=p[0],j=p[1],q=p[2],oe=y[3]*T+y[7]*j+y[11]*q+y[15];return oe=oe||1,c[0]=(y[0]*T+y[4]*j+y[8]*q+y[12])/oe,c[1]=(y[1]*T+y[5]*j+y[9]*q+y[13])/oe,c[2]=(y[2]*T+y[6]*j+y[10]*q+y[14])/oe,c}function Or(c,p,y){var T=p[0],j=p[1],q=p[2];return c[0]=T*y[0]+j*y[3]+q*y[6],c[1]=T*y[1]+j*y[4]+q*y[7],c[2]=T*y[2]+j*y[5]+q*y[8],c}function kn(c,p,y){var T=y[0],j=y[1],q=y[2],oe=y[3],le=p[0],ye=p[1],Ee=p[2],De=j*Ee-q*ye,Ve=q*le-T*Ee,Ge=T*ye-j*le,Ze=j*Ge-q*Ve,_t=q*De-T*Ge,Ft=T*Ve-j*De,m=2*oe;return De*=m,Ve*=m,Ge*=m,Ze*=2,_t*=2,Ft*=2,c[0]=le+De+Ze,c[1]=ye+Ve+_t,c[2]=Ee+Ge+Ft,c}function jn(c,p,y,T){var j=[],q=[];return j[0]=p[0]-y[0],j[1]=p[1]-y[1],j[2]=p[2]-y[2],q[0]=j[0],q[1]=j[1]*Math.cos(T)-j[2]*Math.sin(T),q[2]=j[1]*Math.sin(T)+j[2]*Math.cos(T),c[0]=q[0]+y[0],c[1]=q[1]+y[1],c[2]=q[2]+y[2],c}function yt(c,p,y,T){var j=[],q=[];return j[0]=p[0]-y[0],j[1]=p[1]-y[1],j[2]=p[2]-y[2],q[0]=j[2]*Math.sin(T)+j[0]*Math.cos(T),q[1]=j[1],q[2]=j[2]*Math.cos(T)-j[0]*Math.sin(T),c[0]=q[0]+y[0],c[1]=q[1]+y[1],c[2]=q[2]+y[2],c}function Rr(c,p,y,T){var j=[],q=[];return j[0]=p[0]-y[0],j[1]=p[1]-y[1],j[2]=p[2]-y[2],q[0]=j[0]*Math.cos(T)-j[1]*Math.sin(T),q[1]=j[0]*Math.sin(T)+j[1]*Math.cos(T),q[2]=j[2],c[0]=q[0]+y[0],c[1]=q[1]+y[1],c[2]=q[2]+y[2],c}function zn(c,p){var y=c[0],T=c[1],j=c[2],q=p[0],oe=p[1],le=p[2],ye=Math.sqrt(y*y+T*T+j*j)*Math.sqrt(q*q+oe*oe+le*le),Ee=ye&&ct(c,p)/ye;return Math.acos(Math.min(Math.max(Ee,-1),1))}function Ln(c){return c[0]=0,c[1]=0,c[2]=0,c}function Fn(c){return"vec3("+c[0]+", "+c[1]+", "+c[2]+")"}function Nn(c,p){return c[0]===p[0]&&c[1]===p[1]&&c[2]===p[2]}function Bn(c,p){var y=c[0],T=c[1],j=c[2],q=p[0],oe=p[1],le=p[2];return Math.abs(y-q)<=h*Math.max(1,Math.abs(y),Math.abs(q))&&Math.abs(T-oe)<=h*Math.max(1,Math.abs(T),Math.abs(oe))&&Math.abs(j-le)<=h*Math.max(1,Math.abs(j),Math.abs(le))}var Mr=Xe,Un=yr,Wn=_r,Er=br,qn=wr,Lt=Dt,Vn=zt,Tr=function(){var c=at();return function(p,y,T,j,q,oe){var le,ye;for(y||(y=3),T||(T=0),ye=j?Math.min(j*y+T,p.length):p.length,le=T;le<ye;le+=y)c[0]=p[le],c[1]=p[le+1],c[2]=p[le+2],q(c,c,oe),p[le]=c[0],p[le+1]=c[1],p[le+2]=c[2];return p}}()},function(t,o,e){var n=e(13).default,i=e(1);t.exports=function(s,l){if(l&&(n(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i(s)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,o,e){var n=e(40);t.exports=function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(s&&s.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),s&&n(i,s)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,o,e){var n=e(141)();t.exports=n;try{regeneratorRuntime=n}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},function(t,o,e){"use strict";o.a={init:function(n,i){n.fill(i)},shuffle:function(n){for(var i=n.length-1;i>0;i--){var s=Math.floor(Math.random()*(i+1)),l=[n[s],n[i]];n[i]=l[0],n[s]=l[1]}return n},toPointList:function(n){var i=n.reduce(function(s,l){var h="[".concat(l.join(","),"]");return s.push(h),s},[]);return"[".concat(i.join(`,\r
`),"]")},threshold:function(n,i,s){return n.reduce(function(l,h){return s.apply(n,[h])>=i&&l.push(h),l},[])},maxIndex:function(n){for(var i=0,s=0;s<n.length;s++)n[s]>n[i]&&(i=s);return i},max:function(n){for(var i=0,s=0;s<n.length;s++)n[s]>i&&(i=n[s]);return i},sum:function(n){for(var i=n.length,s=0;i--;)s+=n[i];return s}}},function(t,o,e){"use strict";e.d(o,"h",function(){return h}),e.d(o,"i",function(){return S}),e.d(o,"b",function(){return R}),e.d(o,"j",function(){return N}),e.d(o,"e",function(){return D}),e.d(o,"c",function(){return H}),e.d(o,"f",function(){return ee}),e.d(o,"g",function(){return te}),e.d(o,"a",function(){return B}),e.d(o,"d",function(){return E});var n=e(5),i=e(9);n.a.setMatrixArrayType(Array);var s=function(C,P){var F=[],A={rad:0,vec:n.c.clone([0,0])},X={};function I(M){X[M.id]=M,F.push(M)}function V(){var M,Q=0;for(M=0;M<F.length;M++)Q+=F[M].rad;A.rad=Q/F.length,A.vec=n.c.clone([Math.cos(A.rad),Math.sin(A.rad)])}return I(C),V(),{add:function(M){X[M.id]||(I(M),V())},fits:function(M){return Math.abs(n.c.dot(M.point.vec,A.vec))>P},getPoints:function(){return F},getCenter:function(){return A}}},l=function(C,P,F){return{rad:C[F],point:C,id:P}};function h(C,P){return{x:C,y:P,toVec2:function(){return n.c.clone([this.x,this.y])},toVec3:function(){return n.d.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function w(C,P){P||(P=8);for(var F=C.data,A=F.length,X=8-P,I=new Int32Array(1<<P);A--;)I[F[A]>>X]++;return I}function S(C,P){var F=function(A){var X,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8,V=8-I;function M($,ae){for(var re=0,ne=$;ne<=ae;ne++)re+=X[ne];return re}function Q($,ae){for(var re=0,ne=$;ne<=ae;ne++)re+=ne*X[ne];return re}function K(){var $,ae,re,ne,de=[0],z=(1<<I)-1;X=w(A,I);for(var L=1;L<z;L++)(re=($=M(0,L))*(ae=M(L+1,z)))===0&&(re=1),ne=Q(0,L)*ae-Q(L+1,z)*$,de[L]=ne*ne/re;return i.a.maxIndex(de)}var J=K();return J<<V}(C);return function(A,X,I){I||(I=A);for(var V=A.data,M=V.length,Q=I.data;M--;)Q[M]=V[M]<X?1:0}(C,F,P),F}function R(C,P,F){var A,X,I,V,M=[];function Q(K){var J=!1;for(X=0;X<M.length;X++)(I=M[X]).fits(K)&&(I.add(K),J=!0);return J}for(F||(F="rad"),A=0;A<C.length;A++)Q(V=l(C[A],A,F))||M.push(s(V,P));return M}n.a.setMatrixArrayType(Array);function N(C,P,F){var A,X,I,V,M=0,Q=0,K=[];for(A=0;A<P;A++)K[A]={score:0,item:null};for(A=0;A<C.length;A++)if((X=F.apply(this,[C[A]]))>Q)for((I=K[M]).score=X,I.item=C[A],Q=Number.MAX_VALUE,V=0;V<P;V++)K[V].score<Q&&(Q=K[V].score,M=V);return K}function D(C,P,F){for(var A,X=0,I=P.x,V=Math.floor(C.length/4),M=P.x/2,Q=0,K=P.x;I<V;){for(A=0;A<M;A++)F[Q]=(.299*C[4*X+0]+.587*C[4*X+1]+.114*C[4*X+2]+(.299*C[4*(X+1)+0]+.587*C[4*(X+1)+1]+.114*C[4*(X+1)+2])+(.299*C[4*I+0]+.587*C[4*I+1]+.114*C[4*I+2])+(.299*C[4*(I+1)+0]+.587*C[4*(I+1)+1]+.114*C[4*(I+1)+2]))/4,Q++,X+=2,I+=2;X+=K,I+=K}}function H(C,P,F){var A=C.length/4|0;if(F&&F.singleChannel===!0)for(var X=0;X<A;X++)P[X]=C[4*X+0];else for(var I=0;I<A;I++)P[I]=.299*C[4*I+0]+.587*C[4*I+1]+.114*C[4*I+2]}function ee(C,P){for(var F=C.data,A=C.size.x,X=P.data,I=0,V=A,M=F.length,Q=A/2,K=0;V<M;){for(var J=0;J<Q;J++)X[K]=Math.floor((F[I]+F[I+1]+F[V]+F[V+1])/4),K++,I+=2,V+=2;I+=A,V+=A}}function te(C){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0],F=C[0],A=C[1],X=C[2],I=X*A,V=I*(1-Math.abs(F/60%2-1)),M=X-I,Q=0,K=0,J=0;return F<60?(Q=I,K=V):F<120?(Q=V,K=I):F<180?(K=I,J=V):F<240?(K=V,J=I):F<300?(Q=V,J=I):F<360&&(Q=I,J=V),P[0]=255*(Q+M)|0,P[1]=255*(K+M)|0,P[2]=255*(J+M)|0,P}function ie(C){for(var P=[],F=[],A=1;A<Math.sqrt(C)+1;A++)C%A==0&&(F.push(A),A!==C/A&&P.unshift(Math.floor(C/A)));return F.concat(P)}function B(C,P){var F,A=ie(P.x),X=ie(P.y),I=Math.max(P.x,P.y),V=function(re,ne){for(var de=0,z=0,L=[];de<re.length&&z<ne.length;)re[de]===ne[z]?(L.push(re[de]),de++,z++):re[de]>ne[z]?z++:de++;return L}(A,X),M=[8,10,15,20,32,60,80],Q={"x-small":5,small:4,medium:3,large:2,"x-large":1},K=Q[C]||Q.medium,J=M[K],$=Math.floor(I/J);function ae(re){for(var ne=0,de=re[Math.floor(re.length/2)];ne<re.length-1&&re[ne]<$;)ne++;return ne>0&&(de=Math.abs(re[ne]-$)>Math.abs(re[ne-1]-$)?re[ne-1]:re[ne]),$/de<M[K+1]/M[K]&&$/de>M[K-1]/M[K]?{x:de,y:de}:null}return(F=ae(V))||(F=ae(ie(I)))||(F=ae(ie($*J))),F}var k={top:function(C,P){return C.unit==="%"?Math.floor(P.height*(C.value/100)):null},right:function(C,P){return C.unit==="%"?Math.floor(P.width-P.width*(C.value/100)):null},bottom:function(C,P){return C.unit==="%"?Math.floor(P.height-P.height*(C.value/100)):null},left:function(C,P){return C.unit==="%"?Math.floor(P.width*(C.value/100)):null}};function E(C,P,F){var A={width:C,height:P},X=Object.keys(F).reduce(function(I,V){var M=function(K){return{value:parseFloat(K),unit:(K.indexOf("%"),K.length,"%")}}(F[V]),Q=k[V](M,A);return I[V]=Q,I},{});return{sx:X.left,sy:X.top,sw:X.right-X.left,sh:X.bottom-X.top}}},function(t,o,e){"use strict";var n=e(62),i=e.n(n),s=e(3),l=e.n(s),h=e(4),w=e.n(h),S=e(0),R=e.n(S),N=e(5),D=e(9),H=e(10);function ee(ie){if(ie<0)throw new Error("expected positive number, received ".concat(ie))}N.a.setMatrixArrayType(Array);var te=function(){function ie(B,k){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Uint8Array,C=arguments.length>3?arguments[3]:void 0;l()(this,ie),R()(this,"data",void 0),R()(this,"size",void 0),R()(this,"indexMapping",void 0),k?this.data=k:(this.data=new E(B.x*B.y),C&&D.a.init(this.data,0)),this.size=B}return w()(ie,[{key:"inImageWithBorder",value:function(B){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ee(k),B.x>=0&&B.y>=0&&B.x<this.size.x+2*k&&B.y<this.size.y+2*k}},{key:"subImageAsCopy",value:function(B,k){ee(k.x),ee(k.y);for(var E=B.size,C=E.x,P=E.y,F=0;F<C;F++)for(var A=0;A<P;A++)B.data[A*C+F]=this.data[(k.y+A)*this.size.x+k.x+F];return B}},{key:"get",value:function(B,k){return this.data[k*this.size.x+B]}},{key:"getSafe",value:function(B,k){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var E=0;E<this.size.x;E++)this.indexMapping.x[E]=E,this.indexMapping.x[E+this.size.x]=E;for(var C=0;C<this.size.y;C++)this.indexMapping.y[C]=C,this.indexMapping.y[C+this.size.y]=C}return this.data[this.indexMapping.y[k+this.size.y]*this.size.x+this.indexMapping.x[B+this.size.x]]}},{key:"set",value:function(B,k,E){return this.data[k*this.size.x+B]=E,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var B=this.size,k=B.x,E=B.y,C=0;C<k;C++)this.data[C]=this.data[(E-1)*k+C]=0;for(var P=1;P<E-1;P++)this.data[P*k]=this.data[P*k+(k-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(B){var k,E,C,P,F,A,X,I,V,M,Q=this.data,K=this.size.y,J=this.size.x,$=[],ae=[],re=Math.PI,ne=re/4;if(B<=0)return ae;for(F=0;F<B;F++)$[F]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(E=0;E<K;E++)for(P=E*E,k=0;k<J;k++)(C=Q[E*J+k])>0&&((A=$[C-1]).m00+=1,A.m01+=E,A.m10+=k,A.m11+=k*E,A.m02+=P,A.m20+=k*k);for(F=0;F<B;F++)A=$[F],isNaN(A.m00)||A.m00===0||(I=A.m10/A.m00,V=A.m01/A.m00,X=A.m11/A.m00-I*V,M=(A.m02/A.m00-V*V-(A.m20/A.m00-I*I))/(2*X),M=.5*Math.atan(M)+(X>=0?ne:-ne)+re,A.theta=(180*M/re+90)%180-90,A.theta<0&&(A.theta+=180),A.rad=M>re?M-re:M,A.vec=N.c.clone([Math.cos(M),Math.sin(M)]),ae.push(A));return ae}},{key:"getAsRGBA",value:function(){for(var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,k=new Uint8ClampedArray(4*this.size.x*this.size.y),E=0;E<this.size.y;E++)for(var C=0;C<this.size.x;C++){var P=E*this.size.x+C,F=this.get(C,E)*B;k[4*P+0]=F,k[4*P+1]=F,k[4*P+2]=F,k[4*P+3]=255}return k}},{key:"show",value:function(B){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;console.warn("* imagewrapper show getcontext 2d");var E=B.getContext("2d");if(!E)throw new Error("Unable to get canvas context");var C=E.getImageData(0,0,B.width,B.height),P=this.getAsRGBA(k);B.width=this.size.x,B.height=this.size.y;var F=new ImageData(P,C.width,C.height);E.putImageData(F,0,0)}},{key:"overlay",value:function(B,k,E){var C=k<0||k>360?360:k,P=[0,1,1],F=[0,0,0],A=[255,255,255],X=[0,0,0];console.warn("* imagewrapper overlay getcontext 2d");var I=B.getContext("2d");if(!I)throw new Error("Unable to get canvas context");for(var V=I.getImageData(E.x,E.y,this.size.x,this.size.y),M=V.data,Q=this.data.length;Q--;){P[0]=this.data[Q]*C;var K=4*Q,J=P[0]<=0?A:P[0]>=360?X:Object(H.g)(P,F),$=i()(J,3);M[K]=$[0],M[K+1]=$[1],M[K+2]=$[2],M[K+3]=255}I.putImageData(V,E.x,E.y)}}]),ie}();o.a=te},function(t,o){function e(n,i,s,l,h,w,S){try{var R=n[w](S),N=R.value}catch(D){return void s(D)}R.done?i(N):Promise.resolve(N).then(l,h)}t.exports=function(n){return function(){var i=this,s=arguments;return new Promise(function(l,h){var w=n.apply(i,s);function S(N){e(w,l,h,S,R,"next",N)}function R(N){e(w,l,h,S,R,"throw",N)}S(void 0)})}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,o){function e(n){return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,o,e){var n=e(142);function i(){return typeof Reflect<"u"&&Reflect.get?(t.exports=i=Reflect.get.bind(),t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=i=function(s,l,h){var w=n(s,l);if(w){var S=Object.getOwnPropertyDescriptor(w,l);return S.get?S.get.call(arguments.length<3?s:h):S.value}},t.exports.__esModule=!0,t.exports.default=t.exports),i.apply(this,arguments)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,o){t.exports=function(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}},function(t,o){var e=Array.isArray;t.exports=e},function(t,o,e){"use strict";o.a={drawRect:function(n,i,s,l){s.strokeStyle=l.color,s.fillStyle=l.color,s.lineWidth=l.lineWidth||1,s.beginPath(),s.strokeRect(n.x,n.y,i.x,i.y)},drawPath:function(n,i,s,l){s.strokeStyle=l.color,s.fillStyle=l.color,s.lineWidth=l.lineWidth,s.beginPath(),s.moveTo(n[0][i.x],n[0][i.y]);for(var h=1;h<n.length;h++)s.lineTo(n[h][i.x],n[h][i.y]);s.closePath(),s.stroke()},drawImage:function(n,i,s){var l=s.getImageData(0,0,i.x,i.y),h=l.data,w=h.length,S=n.length;if(w/S!=4)return!1;for(;S--;){var R=n[S];h[--w]=255,h[--w]=R,h[--w]=R,h[--w]=R}return s.putImageData(l,0,0),!0}}},function(t,o,e){var n=e(74),i=e(129)(function(s,l,h){n(s,l,h)});t.exports=i},function(t,o,e){var n=e(44),i=typeof self=="object"&&self&&self.Object===Object&&self,s=n||i||Function("return this")();t.exports=s},function(t,o){t.exports=function(e){return e!=null&&typeof e=="object"}},function(t,o,e){"use strict";o.a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(n,i){var s,l=n.data,h=i.data,w=this.searchDirections,S=n.size.x;function R(D,H,ee,te){var ie,B,k;for(ie=0;ie<w.length;ie++){if(B=D.cy+w[D.dir][0],k=D.cx+w[D.dir][1],l[s=B*S+k]===H&&(h[s]===0||h[s]===ee))return h[s]=ee,D.cy=B,D.cx=k,!0;h[s]===0&&(h[s]=te),D.dir=(D.dir+1)%8}return!1}function N(D,H,ee){return{dir:ee,x:D,y:H,next:null,prev:null}}return{trace:function(D,H,ee,te){return R(D,H,ee,te)},contourTracing:function(D,H,ee,te,ie){return function(B,k,E,C,P){var F,A,X,I=null,V={cx:k,cy:B,dir:0};if(R(V,C,E,P)){F=I=N(k,B,V.dir),X=V.dir,(A=N(V.cx,V.cy,0)).prev=F,F.next=A,A.next=null,F=A;var M=n.size.x*n.size.y,Q=0;do V.dir=(V.dir+6)%8,R(V,C,E,P),X!==V.dir?(F.dir=V.dir,(A=N(V.cx,V.cy,0)).prev=F,F.next=A,A.next=null,F=A):(F.dir=X,F.x=V.cx,F.y=V.cy),X=V.dir;while((V.cx!==k||V.cy!==B)&&++Q<M);I.prev=F.prev,F.prev.next=I}return I}(D,H,ee,te,ie)}}}}},function(t,o,e){var n=e(27),i=e(87),s=e(88),l=n?n.toStringTag:void 0;t.exports=function(h){return h==null?h===void 0?"[object Undefined]":"[object Null]":l&&l in Object(h)?i(h):s(h)}},function(t,o,e){"use strict";(function(n){var i,s,l,h,w,S,R,N,D,H,ee=e(5),te=e(11),ie=e(10),B=e(9),k=(e(17),e(65)),E=e(21),C=e(66);ee.a.setMatrixArrayType(Array);var P,F,A={ctx:{binary:null},dom:{binary:null}},X={x:0,y:0};function I(Q){var K,J,$,ae,re,ne,de,z=D.size.x,L=D.size.y,W=-D.size.x,ce=-D.size.y;for(K=0,J=0;J<Q.length;J++)K+=(ae=Q[J]).rad;for((K=(180*(K/=Q.length)/Math.PI+90)%180-90)<0&&(K+=180),K=(180-K)*Math.PI/180,re=ee.b.copy(ee.b.create(),[Math.cos(K),Math.sin(K),-Math.sin(K),Math.cos(K)]),J=0;J<Q.length;J++)for(ae=Q[J],$=0;$<4;$++)ee.c.transformMat2(ae.box[$],ae.box[$],re);for(J=0;J<Q.length;J++)for(ae=Q[J],$=0;$<4;$++)ae.box[$][0]<z&&(z=ae.box[$][0]),ae.box[$][0]>W&&(W=ae.box[$][0]),ae.box[$][1]<L&&(L=ae.box[$][1]),ae.box[$][1]>ce&&(ce=ae.box[$][1]);for(ne=[[z,L],[W,L],[W,ce],[z,ce]],de=i.halfSample?2:1,re=ee.b.invert(re,re),$=0;$<4;$++)ee.c.transformMat2(ne[$],ne[$],re);for($=0;$<4;$++)ee.c.scale(ne[$],ne[$],de);return ne}function V(Q,K){D.subImageAsCopy(h,Object(ie.h)(Q,K)),F.skeletonize()}function M(Q,K,J,$){var ae,re,ne,de,z=[],L=[],W=Math.ceil(H.x/3);if(Q.length>=2){for(ae=0;ae<Q.length;ae++)Q[ae].m00>W&&z.push(Q[ae]);if(z.length>=2){for(ne=function(ve){var _e=Object(ie.b)(ve,.9),Ce=Object(ie.j)(_e,1,function(je){return je.getPoints().length}),Oe=[],Te=[];if(Ce.length===1){Oe=Ce[0].item.getPoints();for(var Fe=0;Fe<Oe.length;Fe++)Te.push(Oe[Fe].point)}return Te}(z),re=0,ae=0;ae<ne.length;ae++){var ce,ue;re+=(ce=(ue=ne[ae])===null||ue===void 0?void 0:ue.rad)!==null&&ce!==void 0?ce:0}ne.length>1&&ne.length>=z.length/4*3&&ne.length>Q.length/4&&(re/=ne.length,de={index:K[1]*X.x+K[0],pos:{x:J,y:$},box:[ee.c.clone([J,$]),ee.c.clone([J+h.size.x,$]),ee.c.clone([J+h.size.x,$+h.size.y]),ee.c.clone([J,$+h.size.y])],moments:ne,rad:re,vec:ee.c.clone([Math.cos(re),Math.sin(re)])},L.push(de))}}return L}o.a={init:function(Q,K){i=K,P=Q,function(){s=i.halfSample?new te.a({x:P.size.x/2|0,y:P.size.y/2|0}):P,H=Object(ie.a)(i.patchSize,s.size),X.x=s.size.x/H.x|0,X.y=s.size.y/H.y|0,D=new te.a(s.size,void 0,Uint8Array,!1),w=new te.a(H,void 0,Array,!0);var J=new ArrayBuffer(65536);h=new te.a(H,new Uint8Array(J,0,H.x*H.y)),l=new te.a(H,new Uint8Array(J,H.x*H.y*3,H.x*H.y),void 0,!0),F=Object(C.a)(typeof window<"u"?window:typeof self<"u"?self:n,{size:H.x},J),N=new te.a({x:s.size.x/h.size.x|0,y:s.size.y/h.size.y|0},void 0,Array,!0),S=new te.a(N.size,void 0,void 0,!0),R=new te.a(N.size,void 0,Int32Array,!0)}(),function(){if(!i.useWorker&&typeof document<"u"){A.dom.binary=document.createElement("canvas"),A.dom.binary.className="binaryBuffer";var J=!!i.willReadFrequently;console.warn("* initCanvas willReadFrequently",J,i),A.ctx.binary=A.dom.binary.getContext("2d",{willReadFrequently:J}),A.dom.binary.width=D.size.x,A.dom.binary.height=D.size.y}}()},locate:function(){i.halfSample&&Object(ie.f)(P,s),Object(ie.i)(s,D),D.zeroBorder();var Q=function(){var $,ae,re,ne,de,z,L=[];for($=0;$<X.x;$++)for(ae=0;ae<X.y;ae++)V(re=h.size.x*$,ne=h.size.y*ae),l.zeroBorder(),B.a.init(w.data,0),z=k.a.create(l,w).rasterize(0),de=w.moments(z.count),L=L.concat(M(de,[$,ae],re,ne));return L}();if(Q.length<X.x*X.y*.05)return null;var K=function($){var ae,re,ne=0,de=0;function z(){var W;for(W=0;W<R.data.length;W++)if(R.data[W]===0&&S.data[W]===1)return W;return R.data.length}function L(W){var ce,ue,ve,_e,Ce,Oe=W%R.size.x,Te=W/R.size.x|0;if(W<R.data.length)for(ve=N.data[W],R.data[W]=ne,Ce=0;Ce<E.a.searchDirections.length;Ce++)ue=Te+E.a.searchDirections[Ce][0],ce=Oe+E.a.searchDirections[Ce][1],_e=ue*R.size.x+ce,S.data[_e]!==0?R.data[_e]===0&&Math.abs(ee.c.dot(N.data[_e].vec,ve.vec))>.95&&L(_e):R.data[_e]=Number.MAX_VALUE}for(B.a.init(S.data,0),B.a.init(R.data,0),B.a.init(N.data,null),ae=0;ae<$.length;ae++)re=$[ae],N.data[re.index]=re,S.data[re.index]=1;for(S.zeroBorder();(de=z())<R.data.length;)ne++,L(de);return ne}(Q);if(K<1)return null;var J=function($){var ae,re,ne=[];for(ae=0;ae<$;ae++)ne.push(0);for(re=R.data.length;re--;)R.data[re]>0&&ne[R.data[re]-1]++;return(ne=ne.map(function(de,z){return{val:de,label:z+1}})).sort(function(de,z){return z.val-de.val}),ne.filter(function(de){return de.val>=5})}(K);return J.length===0?null:function($,ae){var re,ne,de,z,L=[],W=[];for(re=0;re<$.length;re++){for(ne=R.data.length,L.length=0;ne--;)R.data[ne]===$[re].label&&(de=N.data[ne],L.push(de));(z=I(L))&&W.push(z)}return W}(J)},checkImageConstraints:function(Q,K){var J,$,ae=Q.getWidth(),re=Q.getHeight(),ne=K.halfSample?.5:1;Q.getConfig().area&&($=Object(ie.d)(ae,re,Q.getConfig().area),Q.setTopRight({x:$.sx,y:$.sy}),Q.setCanvasSize({x:ae,y:re}),ae=$.sw,re=$.sh);var de={x:Math.floor(ae*ne),y:Math.floor(re*ne)};if(J=Object(ie.a)(K.patchSize,de),Q.setWidth(Math.max(Math.floor(Math.floor(de.x/J.x)*(1/ne)*J.x),J.x)),Q.setHeight(Math.max(Math.floor(Math.floor(de.y/J.y)*(1/ne)*J.y),J.y)),Q.getWidth()%J.x==0&&Q.getHeight()%J.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(ae," )and height (").concat(re,") must a multiple of ").concat(J.x))}}}).call(this,e(45))},function(t,o,e){var n=e(76),i=e(77),s=e(78),l=e(79),h=e(80);function w(S){var R=-1,N=S==null?0:S.length;for(this.clear();++R<N;){var D=S[R];this.set(D[0],D[1])}}w.prototype.clear=n,w.prototype.delete=i,w.prototype.get=s,w.prototype.has=l,w.prototype.set=h,t.exports=w},function(t,o,e){var n=e(26);t.exports=function(i,s){for(var l=i.length;l--;)if(n(i[l][0],s))return l;return-1}},function(t,o){t.exports=function(e,n){return e===n||e!=e&&n!=n}},function(t,o,e){var n=e(19).Symbol;t.exports=n},function(t,o,e){var n=e(34)(Object,"create");t.exports=n},function(t,o,e){var n=e(101);t.exports=function(i,s){var l=i.__data__;return n(s)?l[typeof s=="string"?"string":"hash"]:l.map}},function(t,o,e){var n=e(116),i=e(20),s=Object.prototype,l=s.hasOwnProperty,h=s.propertyIsEnumerable,w=n(function(){return arguments}())?n:function(S){return i(S)&&l.call(S,"callee")&&!h.call(S,"callee")};t.exports=w},function(t,o){var e=/^(?:0|[1-9]\d*)$/;t.exports=function(n,i){var s=typeof n;return!!(i=i??9007199254740991)&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}},function(t,o,e){var n=e(16),i=e(149),s=e(150),l=e(153);t.exports=function(h,w){return n(h)?h:i(h,w)?[h]:s(l(h))}},function(t,o,e){var n=e(143),i=e(144),s=e(59),l=e(145);t.exports=function(h){return n(h)||i(h)||s(h)||l()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,o,e){var n=e(86),i=e(92);t.exports=function(s,l){var h=i(s,l);return n(h)?h:void 0}},function(t,o,e){var n=e(22),i=e(15);t.exports=function(s){if(!i(s))return!1;var l=n(s);return l=="[object Function]"||l=="[object GeneratorFunction]"||l=="[object AsyncFunction]"||l=="[object Proxy]"}},function(t,o,e){var n=e(48);t.exports=function(i,s,l){s=="__proto__"&&n?n(i,s,{configurable:!0,enumerable:!0,value:l,writable:!0}):i[s]=l}},function(t,o){t.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(t,o,e){var n=e(35),i=e(39);t.exports=function(s){return s!=null&&i(s.length)&&!n(s)}},function(t,o){t.exports=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991}},function(t,o){function e(n,i){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,l){return s.__proto__=l,s},t.exports.__esModule=!0,t.exports.default=t.exports,e(n,i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,o,e){var n=e(22),i=e(20);t.exports=function(s){return typeof s=="symbol"||i(s)&&n(s)=="[object Symbol]"}},function(t,o,e){var n=e(41);t.exports=function(i){if(typeof i=="string"||n(i))return i;var s=i+"";return s=="0"&&1/i==-1/0?"-0":s}},function(t,o,e){var n=e(34)(e(19),"Map");t.exports=n},function(t,o,e){(function(n){var i=typeof n=="object"&&n&&n.Object===Object&&n;t.exports=i}).call(this,e(45))},function(t,o){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch{typeof window=="object"&&(e=window)}t.exports=e},function(t,o,e){var n=e(93),i=e(100),s=e(102),l=e(103),h=e(104);function w(S){var R=-1,N=S==null?0:S.length;for(this.clear();++R<N;){var D=S[R];this.set(D[0],D[1])}}w.prototype.clear=n,w.prototype.delete=i,w.prototype.get=s,w.prototype.has=l,w.prototype.set=h,t.exports=w},function(t,o,e){var n=e(36),i=e(26);t.exports=function(s,l,h){(h!==void 0&&!i(s[l],h)||h===void 0&&!(l in s))&&n(s,l,h)}},function(t,o,e){var n=e(34),i=function(){try{var s=n(Object,"defineProperty");return s({},"",{}),s}catch{}}();t.exports=i},function(t,o,e){var n=e(115)(Object.getPrototypeOf,Object);t.exports=n},function(t,o){var e=Object.prototype;t.exports=function(n){var i=n&&n.constructor;return n===(typeof i=="function"&&i.prototype||e)}},function(t,o,e){(function(n){var i=e(19),s=e(118),l=o&&!o.nodeType&&o,h=l&&typeof n=="object"&&n&&!n.nodeType&&n,w=h&&h.exports===l?i.Buffer:void 0,S=(w?w.isBuffer:void 0)||s;n.exports=S}).call(this,e(37)(t))},function(t,o,e){var n=e(120),i=e(121),s=e(122),l=s&&s.isTypedArray,h=l?i(l):n;t.exports=h},function(t,o){t.exports=function(e,n){if((n!=="constructor"||typeof e[n]!="function")&&n!="__proto__")return e[n]}},function(t,o,e){var n=e(36),i=e(26),s=Object.prototype.hasOwnProperty;t.exports=function(l,h,w){var S=l[h];s.call(l,h)&&i(S,w)&&(w!==void 0||h in l)||n(l,h,w)}},function(t,o,e){var n=e(125),i=e(127),s=e(38);t.exports=function(l){return s(l)?n(l,!0):i(l)}},function(t,o){t.exports=function(e){return e}},function(t,o,e){var n=e(131),i=Math.max;t.exports=function(s,l,h){return l=i(l===void 0?s.length-1:l,0),function(){for(var w=arguments,S=-1,R=i(w.length-l,0),N=Array(R);++S<R;)N[S]=w[l+S];S=-1;for(var D=Array(l+1);++S<l;)D[S]=w[S];return D[l]=h(N),n(s,this,D)}}},function(t,o,e){var n=e(132),i=e(134)(n);t.exports=i},function(t,o,e){var n=e(60);t.exports=function(i,s){if(i){if(typeof i=="string")return n(i,s);var l=Object.prototype.toString.call(i).slice(8,-1);return l==="Object"&&i.constructor&&(l=i.constructor.name),l==="Map"||l==="Set"?Array.from(i):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?n(i,s):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,o){t.exports=function(e,n){(n==null||n>e.length)&&(n=e.length);for(var i=0,s=new Array(n);i<n;i++)s[i]=e[i];return s},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,o,e){var n=e(13).default,i=e(140);t.exports=function(s){var l=i(s,"string");return n(l)==="symbol"?l:String(l)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,o,e){var n=e(137),i=e(138),s=e(59),l=e(139);t.exports=function(h,w){return n(h)||i(h,w)||s(h,w)||l()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,o,e){var n=e(146),i=e(160)(function(s,l){return s==null?{}:n(s,l)});t.exports=i},function(t,o,e){var n=e(2),i=e(40),s=e(165),l=e(166);function h(w){var S=typeof Map=="function"?new Map:void 0;return t.exports=h=function(R){if(R===null||!s(R))return R;if(typeof R!="function")throw new TypeError("Super expression must either be null or a function");if(S!==void 0){if(S.has(R))return S.get(R);S.set(R,N)}function N(){return l(R,arguments,n(this).constructor)}return N.prototype=Object.create(R.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),i(N,R)},t.exports.__esModule=!0,t.exports.default=t.exports,h(w)}t.exports=h,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,o,e){"use strict";var n=e(21),i={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(s,l){var h=s.data,w=l.data,S=s.size.x,R=s.size.y,N=n.a.create(s,l);return{rasterize:function(D){var H,ee,te,ie,B,k,E,C,P,F,A,X,I=[],V=0;for(X=0;X<400;X++)I[X]=0;for(I[0]=h[0],P=null,k=1;k<R-1;k++)for(ie=0,ee=I[0],B=1;B<S-1;B++)if(w[A=k*S+B]===0)if((H=h[A])!==ee){if(ie===0)I[te=V+1]=H,ee=H,(E=N.contourTracing(k,B,te,H,i.DIR.OUTSIDE_EDGE))!==null&&(V++,ie=te,(C=i.createContour2D()).dir=i.CONTOUR_DIR.CW_DIR,C.index=ie,C.firstVertex=E,C.nextpeer=P,C.insideContours=null,P!==null&&(P.prevpeer=C),P=C);else if((E=N.contourTracing(k,B,i.DIR.INSIDE_EDGE,H,ie))!==null){for((C=i.createContour2D()).firstVertex=E,C.insideContours=null,C.dir=D===0?i.CONTOUR_DIR.CCW_DIR:i.CONTOUR_DIR.CW_DIR,C.index=D,F=P;F!==null&&F.index!==ie;)F=F.nextpeer;F!==null&&(C.nextpeer=F.insideContours,F.insideContours!==null&&(F.insideContours.prevpeer=C),F.insideContours=C)}}else w[A]=ie;else w[A]===i.DIR.OUTSIDE_EDGE||w[A]===i.DIR.INSIDE_EDGE?(ie=0,ee=w[A]===i.DIR.INSIDE_EDGE?h[A]:I[0]):ee=I[ie=w[A]];for(F=P;F!==null;)F.index=D,F=F.nextpeer;return{cc:P,count:V}},debug:{drawContour:function(D,H){var ee,te,ie,B=D.getContext("2d"),k=H;for(B.strokeStyle="red",B.fillStyle="red",B.lineWidth=1,ee=k!==null?k.insideContours:null;k!==null;){switch(ee!==null?(te=ee,ee=ee.nextpeer):(te=k,ee=(k=k.nextpeer)!==null?k.insideContours:null),te.dir){case i.CONTOUR_DIR.CW_DIR:B.strokeStyle="red";break;case i.CONTOUR_DIR.CCW_DIR:B.strokeStyle="blue";break;case i.CONTOUR_DIR.UNKNOWN_DIR:B.strokeStyle="green"}ie=te.firstVertex,B.beginPath(),B.moveTo(ie.x,ie.y);do ie=ie.next,B.lineTo(ie.x,ie.y);while(ie!==te.firstVertex);B.stroke()}}}}}};o.a=i},function(t,o,e){"use strict";o.a=function(n,i,s){var l=new n.Uint8Array(s),h=i.size|0,w=n.Math.imul;function S(k,E){k|=0,E|=0;var C=0,P=0,F=0,A=0,X=0,I=0,V=0,M=0;for(C=1;(C|0)<(h-1|0);C=C+1|0)for(M=M+h|0,P=1;(P|0)<(h-1|0);P=P+1|0)A=M-h|0,X=M+h|0,I=P-1|0,V=P+1|0,F=(l[k+A+I|0]|0)+(l[k+A+V|0]|0)+(l[k+M+P|0]|0)+(l[k+X+I|0]|0)+(l[k+X+V|0]|0)|0,(F|0)==5?l[E+M+P|0]=1:l[E+M+P|0]=0}function R(k,E,C){k|=0,E|=0,C|=0;var P=0;for(P=w(h,h)|0;(P|0)>0;)P=P-1|0,l[C+P|0]=(l[k+P|0]|0)-(l[E+P|0]|0)|0}function N(k,E,C){k|=0,E|=0,C|=0;var P=0;for(P=w(h,h)|0;(P|0)>0;)P=P-1|0,l[C+P|0]=l[k+P|0]|0|(l[E+P|0]|0)|0}function D(k){k|=0;var E=0,C=0;for(C=w(h,h)|0;(C|0)>0;)C=C-1|0,E=(E|0)+(l[k+C|0]|0)|0;return E|0}function H(k,E){k|=0,E|=0;var C=0;for(C=w(h,h)|0;(C|0)>0;)C=C-1|0,l[k+C|0]=E}function ee(k,E){k|=0,E|=0;var C=0,P=0,F=0,A=0,X=0,I=0,V=0,M=0;for(C=1;(C|0)<(h-1|0);C=C+1|0)for(M=M+h|0,P=1;(P|0)<(h-1|0);P=P+1|0)A=M-h|0,X=M+h|0,I=P-1|0,V=P+1|0,F=(l[k+A+I|0]|0)+(l[k+A+V|0]|0)+(l[k+M+P|0]|0)+(l[k+X+I|0]|0)+(l[k+X+V|0]|0)|0,(F|0)>0?l[E+M+P|0]=1:l[E+M+P|0]=0}function te(k,E){k|=0,E|=0;var C=0;for(C=w(h,h)|0;(C|0)>0;)C=C-1|0,l[E+C|0]=l[k+C|0]|0}function ie(k){k|=0;var E=0,C=0;for(E=0;(E|0)<(h-1|0);E=E+1|0)l[k+E|0]=0,l[k+C|0]=0,C=C+h-1|0,l[k+C|0]=0,C=C+1|0;for(E=0;(E|0)<(h|0);E=E+1|0)l[k+C|0]=0,C=C+1|0}function B(){var k=0,E=0,C=0,P=0,F=0,A=0;E=w(h,h)|0,C=E+E|0,P=C+E|0,H(P,0),ie(k);do S(k,E),ee(E,C),R(k,C,C),N(P,C,P),te(E,k),F=D(k)|0,A=(F|0)==0|0;while(!A)}return{skeletonize:B}}},,,,,,,function(t,o,e){t.exports=e(168)},function(t,o,e){var n=e(75),i=e(47),s=e(105),l=e(107),h=e(15),w=e(55),S=e(53);t.exports=function R(N,D,H,ee,te){N!==D&&s(D,function(ie,B){if(te||(te=new n),h(ie))l(N,D,B,H,R,ee,te);else{var k=ee?ee(S(N,B),ie,B+"",N,D,te):void 0;k===void 0&&(k=ie),i(N,B,k)}},w)}},function(t,o,e){var n=e(24),i=e(81),s=e(82),l=e(83),h=e(84),w=e(85);function S(R){var N=this.__data__=new n(R);this.size=N.size}S.prototype.clear=i,S.prototype.delete=s,S.prototype.get=l,S.prototype.has=h,S.prototype.set=w,t.exports=S},function(t,o){t.exports=function(){this.__data__=[],this.size=0}},function(t,o,e){var n=e(25),i=Array.prototype.splice;t.exports=function(s){var l=this.__data__,h=n(l,s);return!(h<0)&&(h==l.length-1?l.pop():i.call(l,h,1),--this.size,!0)}},function(t,o,e){var n=e(25);t.exports=function(i){var s=this.__data__,l=n(s,i);return l<0?void 0:s[l][1]}},function(t,o,e){var n=e(25);t.exports=function(i){return n(this.__data__,i)>-1}},function(t,o,e){var n=e(25);t.exports=function(i,s){var l=this.__data__,h=n(l,i);return h<0?(++this.size,l.push([i,s])):l[h][1]=s,this}},function(t,o,e){var n=e(24);t.exports=function(){this.__data__=new n,this.size=0}},function(t,o){t.exports=function(e){var n=this.__data__,i=n.delete(e);return this.size=n.size,i}},function(t,o){t.exports=function(e){return this.__data__.get(e)}},function(t,o){t.exports=function(e){return this.__data__.has(e)}},function(t,o,e){var n=e(24),i=e(43),s=e(46);t.exports=function(l,h){var w=this.__data__;if(w instanceof n){var S=w.__data__;if(!i||S.length<199)return S.push([l,h]),this.size=++w.size,this;w=this.__data__=new s(S)}return w.set(l,h),this.size=w.size,this}},function(t,o,e){var n=e(35),i=e(89),s=e(15),l=e(91),h=/^\[object .+?Constructor\]$/,w=Function.prototype,S=Object.prototype,R=w.toString,N=S.hasOwnProperty,D=RegExp("^"+R.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(H){return!(!s(H)||i(H))&&(n(H)?D:h).test(l(H))}},function(t,o,e){var n=e(27),i=Object.prototype,s=i.hasOwnProperty,l=i.toString,h=n?n.toStringTag:void 0;t.exports=function(w){var S=s.call(w,h),R=w[h];try{w[h]=void 0;var N=!0}catch{}var D=l.call(w);return N&&(S?w[h]=R:delete w[h]),D}},function(t,o){var e=Object.prototype.toString;t.exports=function(n){return e.call(n)}},function(t,o,e){var n,i=e(90),s=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(l){return!!s&&s in l}},function(t,o,e){var n=e(19)["__core-js_shared__"];t.exports=n},function(t,o){var e=Function.prototype.toString;t.exports=function(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}},function(t,o){t.exports=function(e,n){return e?.[n]}},function(t,o,e){var n=e(94),i=e(24),s=e(43);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(s||i),string:new n}}},function(t,o,e){var n=e(95),i=e(96),s=e(97),l=e(98),h=e(99);function w(S){var R=-1,N=S==null?0:S.length;for(this.clear();++R<N;){var D=S[R];this.set(D[0],D[1])}}w.prototype.clear=n,w.prototype.delete=i,w.prototype.get=s,w.prototype.has=l,w.prototype.set=h,t.exports=w},function(t,o,e){var n=e(28);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(t,o){t.exports=function(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}},function(t,o,e){var n=e(28),i=Object.prototype.hasOwnProperty;t.exports=function(s){var l=this.__data__;if(n){var h=l[s];return h==="__lodash_hash_undefined__"?void 0:h}return i.call(l,s)?l[s]:void 0}},function(t,o,e){var n=e(28),i=Object.prototype.hasOwnProperty;t.exports=function(s){var l=this.__data__;return n?l[s]!==void 0:i.call(l,s)}},function(t,o,e){var n=e(28);t.exports=function(i,s){var l=this.__data__;return this.size+=this.has(i)?0:1,l[i]=n&&s===void 0?"__lodash_hash_undefined__":s,this}},function(t,o,e){var n=e(29);t.exports=function(i){var s=n(this,i).delete(i);return this.size-=s?1:0,s}},function(t,o){t.exports=function(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}},function(t,o,e){var n=e(29);t.exports=function(i){return n(this,i).get(i)}},function(t,o,e){var n=e(29);t.exports=function(i){return n(this,i).has(i)}},function(t,o,e){var n=e(29);t.exports=function(i,s){var l=n(this,i),h=l.size;return l.set(i,s),this.size+=l.size==h?0:1,this}},function(t,o,e){var n=e(106)();t.exports=n},function(t,o){t.exports=function(e){return function(n,i,s){for(var l=-1,h=Object(n),w=s(n),S=w.length;S--;){var R=w[e?S:++l];if(i(h[R],R,h)===!1)break}return n}}},function(t,o,e){var n=e(47),i=e(108),s=e(109),l=e(112),h=e(113),w=e(30),S=e(16),R=e(117),N=e(51),D=e(35),H=e(15),ee=e(119),te=e(52),ie=e(53),B=e(123);t.exports=function(k,E,C,P,F,A,X){var I=ie(k,C),V=ie(E,C),M=X.get(V);if(M)n(k,C,M);else{var Q=A?A(I,V,C+"",k,E,X):void 0,K=Q===void 0;if(K){var J=S(V),$=!J&&N(V),ae=!J&&!$&&te(V);Q=V,J||$||ae?S(I)?Q=I:R(I)?Q=l(I):$?(K=!1,Q=i(V,!0)):ae?(K=!1,Q=s(V,!0)):Q=[]:ee(V)||w(V)?(Q=I,w(I)?Q=B(I):H(I)&&!D(I)||(Q=h(V))):K=!1}K&&(X.set(V,Q),F(Q,V,P,A,X),X.delete(V)),n(k,C,Q)}}},function(t,o,e){(function(n){var i=e(19),s=o&&!o.nodeType&&o,l=s&&typeof n=="object"&&n&&!n.nodeType&&n,h=l&&l.exports===s?i.Buffer:void 0,w=h?h.allocUnsafe:void 0;n.exports=function(S,R){if(R)return S.slice();var N=S.length,D=w?w(N):new S.constructor(N);return S.copy(D),D}}).call(this,e(37)(t))},function(t,o,e){var n=e(110);t.exports=function(i,s){var l=s?n(i.buffer):i.buffer;return new i.constructor(l,i.byteOffset,i.length)}},function(t,o,e){var n=e(111);t.exports=function(i){var s=new i.constructor(i.byteLength);return new n(s).set(new n(i)),s}},function(t,o,e){var n=e(19).Uint8Array;t.exports=n},function(t,o){t.exports=function(e,n){var i=-1,s=e.length;for(n||(n=Array(s));++i<s;)n[i]=e[i];return n}},function(t,o,e){var n=e(114),i=e(49),s=e(50);t.exports=function(l){return typeof l.constructor!="function"||s(l)?{}:n(i(l))}},function(t,o,e){var n=e(15),i=Object.create,s=function(){function l(){}return function(h){if(!n(h))return{};if(i)return i(h);l.prototype=h;var w=new l;return l.prototype=void 0,w}}();t.exports=s},function(t,o){t.exports=function(e,n){return function(i){return e(n(i))}}},function(t,o,e){var n=e(22),i=e(20);t.exports=function(s){return i(s)&&n(s)=="[object Arguments]"}},function(t,o,e){var n=e(38),i=e(20);t.exports=function(s){return i(s)&&n(s)}},function(t,o){t.exports=function(){return!1}},function(t,o,e){var n=e(22),i=e(49),s=e(20),l=Function.prototype,h=Object.prototype,w=l.toString,S=h.hasOwnProperty,R=w.call(Object);t.exports=function(N){if(!s(N)||n(N)!="[object Object]")return!1;var D=i(N);if(D===null)return!0;var H=S.call(D,"constructor")&&D.constructor;return typeof H=="function"&&H instanceof H&&w.call(H)==R}},function(t,o,e){var n=e(22),i=e(39),s=e(20),l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Arguments]"]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l["[object Function]"]=l["[object Map]"]=l["[object Number]"]=l["[object Object]"]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1,t.exports=function(h){return s(h)&&i(h.length)&&!!l[n(h)]}},function(t,o){t.exports=function(e){return function(n){return e(n)}}},function(t,o,e){(function(n){var i=e(44),s=o&&!o.nodeType&&o,l=s&&typeof n=="object"&&n&&!n.nodeType&&n,h=l&&l.exports===s&&i.process,w=function(){try{var S=l&&l.require&&l.require("util").types;return S||h&&h.binding&&h.binding("util")}catch{}}();n.exports=w}).call(this,e(37)(t))},function(t,o,e){var n=e(124),i=e(55);t.exports=function(s){return n(s,i(s))}},function(t,o,e){var n=e(54),i=e(36);t.exports=function(s,l,h,w){var S=!h;h||(h={});for(var R=-1,N=l.length;++R<N;){var D=l[R],H=w?w(h[D],s[D],D,h,s):void 0;H===void 0&&(H=s[D]),S?i(h,D,H):n(h,D,H)}return h}},function(t,o,e){var n=e(126),i=e(30),s=e(16),l=e(51),h=e(31),w=e(52),S=Object.prototype.hasOwnProperty;t.exports=function(R,N){var D=s(R),H=!D&&i(R),ee=!D&&!H&&l(R),te=!D&&!H&&!ee&&w(R),ie=D||H||ee||te,B=ie?n(R.length,String):[],k=B.length;for(var E in R)!N&&!S.call(R,E)||ie&&(E=="length"||ee&&(E=="offset"||E=="parent")||te&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||h(E,k))||B.push(E);return B}},function(t,o){t.exports=function(e,n){for(var i=-1,s=Array(e);++i<e;)s[i]=n(i);return s}},function(t,o,e){var n=e(15),i=e(50),s=e(128),l=Object.prototype.hasOwnProperty;t.exports=function(h){if(!n(h))return s(h);var w=i(h),S=[];for(var R in h)(R!="constructor"||!w&&l.call(h,R))&&S.push(R);return S}},function(t,o){t.exports=function(e){var n=[];if(e!=null)for(var i in Object(e))n.push(i);return n}},function(t,o,e){var n=e(130),i=e(135);t.exports=function(s){return n(function(l,h){var w=-1,S=h.length,R=S>1?h[S-1]:void 0,N=S>2?h[2]:void 0;for(R=s.length>3&&typeof R=="function"?(S--,R):void 0,N&&i(h[0],h[1],N)&&(R=S<3?void 0:R,S=1),l=Object(l);++w<S;){var D=h[w];D&&s(l,D,w,R)}return l})}},function(t,o,e){var n=e(56),i=e(57),s=e(58);t.exports=function(l,h){return s(i(l,h,n),l+"")}},function(t,o){t.exports=function(e,n,i){switch(i.length){case 0:return e.call(n);case 1:return e.call(n,i[0]);case 2:return e.call(n,i[0],i[1]);case 3:return e.call(n,i[0],i[1],i[2])}return e.apply(n,i)}},function(t,o,e){var n=e(133),i=e(48),s=e(56),l=i?function(h,w){return i(h,"toString",{configurable:!0,enumerable:!1,value:n(w),writable:!0})}:s;t.exports=l},function(t,o){t.exports=function(e){return function(){return e}}},function(t,o){var e=Date.now;t.exports=function(n){var i=0,s=0;return function(){var l=e(),h=16-(l-s);if(s=l,h>0){if(++i>=800)return arguments[0]}else i=0;return n.apply(void 0,arguments)}}},function(t,o,e){var n=e(26),i=e(38),s=e(31),l=e(15);t.exports=function(h,w,S){if(!l(S))return!1;var R=typeof w;return!!(R=="number"?i(S)&&s(w,S.length):R=="string"&&w in S)&&n(S[w],h)}},function(t,o){typeof window<"u"&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)})),typeof Math.imul!="function"&&(Math.imul=function(e,n){var i=65535&e,s=65535&n;return i*s+((e>>>16&65535)*s+i*(n>>>16&65535)<<16>>>0)|0}),typeof Object.assign!="function"&&(Object.assign=function(e){"use strict";if(e===null)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var s=arguments[i];if(s!==null)for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(n[l]=s[l])}return n})},function(t,o){t.exports=function(e){if(Array.isArray(e))return e},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,o){t.exports=function(e,n){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var s,l,h,w,S=[],R=!0,N=!1;try{if(h=(i=i.call(e)).next,n===0){if(Object(i)!==i)return;R=!1}else for(;!(R=(s=h.call(i)).done)&&(S.push(s.value),S.length!==n);R=!0);}catch(D){N=!0,l=D}finally{try{if(!R&&i.return!=null&&(w=i.return(),Object(w)!==w))return}finally{if(N)throw l}}return S}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,o){t.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,o,e){var n=e(13).default;t.exports=function(i,s){if(n(i)!=="object"||i===null)return i;var l=i[Symbol.toPrimitive];if(l!==void 0){var h=l.call(i,s||"default");if(n(h)!=="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(i)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,o,e){var n=e(13).default;function i(){"use strict";t.exports=i=function(){return l},t.exports.__esModule=!0,t.exports.default=t.exports;var s,l={},h=Object.prototype,w=h.hasOwnProperty,S=Object.defineProperty||function(z,L,W){z[L]=W.value},R=typeof Symbol=="function"?Symbol:{},N=R.iterator||"@@iterator",D=R.asyncIterator||"@@asyncIterator",H=R.toStringTag||"@@toStringTag";function ee(z,L,W){return Object.defineProperty(z,L,{value:W,enumerable:!0,configurable:!0,writable:!0}),z[L]}try{ee({},"")}catch{ee=function(L,W,ce){return L[W]=ce}}function te(z,L,W,ce){var ue=L&&L.prototype instanceof P?L:P,ve=Object.create(ue.prototype),_e=new ne(ce||[]);return S(ve,"_invoke",{value:J(z,W,_e)}),ve}function ie(z,L,W){try{return{type:"normal",arg:z.call(L,W)}}catch(ce){return{type:"throw",arg:ce}}}l.wrap=te;var B="suspendedStart",k="executing",E="completed",C={};function P(){}function F(){}function A(){}var X={};ee(X,N,function(){return this});var I=Object.getPrototypeOf,V=I&&I(I(de([])));V&&V!==h&&w.call(V,N)&&(X=V);var M=A.prototype=P.prototype=Object.create(X);function Q(z){["next","throw","return"].forEach(function(L){ee(z,L,function(W){return this._invoke(L,W)})})}function K(z,L){function W(ue,ve,_e,Ce){var Oe=ie(z[ue],z,ve);if(Oe.type!=="throw"){var Te=Oe.arg,Fe=Te.value;return Fe&&n(Fe)=="object"&&w.call(Fe,"__await")?L.resolve(Fe.__await).then(function(je){W("next",je,_e,Ce)},function(je){W("throw",je,_e,Ce)}):L.resolve(Fe).then(function(je){Te.value=je,_e(Te)},function(je){return W("throw",je,_e,Ce)})}Ce(Oe.arg)}var ce;S(this,"_invoke",{value:function(ue,ve){function _e(){return new L(function(Ce,Oe){W(ue,ve,Ce,Oe)})}return ce=ce?ce.then(_e,_e):_e()}})}function J(z,L,W){var ce=B;return function(ue,ve){if(ce===k)throw new Error("Generator is already running");if(ce===E){if(ue==="throw")throw ve;return{value:s,done:!0}}for(W.method=ue,W.arg=ve;;){var _e=W.delegate;if(_e){var Ce=$(_e,W);if(Ce){if(Ce===C)continue;return Ce}}if(W.method==="next")W.sent=W._sent=W.arg;else if(W.method==="throw"){if(ce===B)throw ce=E,W.arg;W.dispatchException(W.arg)}else W.method==="return"&&W.abrupt("return",W.arg);ce=k;var Oe=ie(z,L,W);if(Oe.type==="normal"){if(ce=W.done?E:"suspendedYield",Oe.arg===C)continue;return{value:Oe.arg,done:W.done}}Oe.type==="throw"&&(ce=E,W.method="throw",W.arg=Oe.arg)}}}function $(z,L){var W=L.method,ce=z.iterator[W];if(ce===s)return L.delegate=null,W==="throw"&&z.iterator.return&&(L.method="return",L.arg=s,$(z,L),L.method==="throw")||W!=="return"&&(L.method="throw",L.arg=new TypeError("The iterator does not provide a '"+W+"' method")),C;var ue=ie(ce,z.iterator,L.arg);if(ue.type==="throw")return L.method="throw",L.arg=ue.arg,L.delegate=null,C;var ve=ue.arg;return ve?ve.done?(L[z.resultName]=ve.value,L.next=z.nextLoc,L.method!=="return"&&(L.method="next",L.arg=s),L.delegate=null,C):ve:(L.method="throw",L.arg=new TypeError("iterator result is not an object"),L.delegate=null,C)}function ae(z){var L={tryLoc:z[0]};1 in z&&(L.catchLoc=z[1]),2 in z&&(L.finallyLoc=z[2],L.afterLoc=z[3]),this.tryEntries.push(L)}function re(z){var L=z.completion||{};L.type="normal",delete L.arg,z.completion=L}function ne(z){this.tryEntries=[{tryLoc:"root"}],z.forEach(ae,this),this.reset(!0)}function de(z){if(z||z===""){var L=z[N];if(L)return L.call(z);if(typeof z.next=="function")return z;if(!isNaN(z.length)){var W=-1,ce=function ue(){for(;++W<z.length;)if(w.call(z,W))return ue.value=z[W],ue.done=!1,ue;return ue.value=s,ue.done=!0,ue};return ce.next=ce}}throw new TypeError(n(z)+" is not iterable")}return F.prototype=A,S(M,"constructor",{value:A,configurable:!0}),S(A,"constructor",{value:F,configurable:!0}),F.displayName=ee(A,H,"GeneratorFunction"),l.isGeneratorFunction=function(z){var L=typeof z=="function"&&z.constructor;return!!L&&(L===F||(L.displayName||L.name)==="GeneratorFunction")},l.mark=function(z){return Object.setPrototypeOf?Object.setPrototypeOf(z,A):(z.__proto__=A,ee(z,H,"GeneratorFunction")),z.prototype=Object.create(M),z},l.awrap=function(z){return{__await:z}},Q(K.prototype),ee(K.prototype,D,function(){return this}),l.AsyncIterator=K,l.async=function(z,L,W,ce,ue){ue===void 0&&(ue=Promise);var ve=new K(te(z,L,W,ce),ue);return l.isGeneratorFunction(L)?ve:ve.next().then(function(_e){return _e.done?_e.value:ve.next()})},Q(M),ee(M,H,"Generator"),ee(M,N,function(){return this}),ee(M,"toString",function(){return"[object Generator]"}),l.keys=function(z){var L=Object(z),W=[];for(var ce in L)W.push(ce);return W.reverse(),function ue(){for(;W.length;){var ve=W.pop();if(ve in L)return ue.value=ve,ue.done=!1,ue}return ue.done=!0,ue}},l.values=de,ne.prototype={constructor:ne,reset:function(z){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(re),!z)for(var L in this)L.charAt(0)==="t"&&w.call(this,L)&&!isNaN(+L.slice(1))&&(this[L]=s)},stop:function(){this.done=!0;var z=this.tryEntries[0].completion;if(z.type==="throw")throw z.arg;return this.rval},dispatchException:function(z){if(this.done)throw z;var L=this;function W(Oe,Te){return ve.type="throw",ve.arg=z,L.next=Oe,Te&&(L.method="next",L.arg=s),!!Te}for(var ce=this.tryEntries.length-1;ce>=0;--ce){var ue=this.tryEntries[ce],ve=ue.completion;if(ue.tryLoc==="root")return W("end");if(ue.tryLoc<=this.prev){var _e=w.call(ue,"catchLoc"),Ce=w.call(ue,"finallyLoc");if(_e&&Ce){if(this.prev<ue.catchLoc)return W(ue.catchLoc,!0);if(this.prev<ue.finallyLoc)return W(ue.finallyLoc)}else if(_e){if(this.prev<ue.catchLoc)return W(ue.catchLoc,!0)}else{if(!Ce)throw new Error("try statement without catch or finally");if(this.prev<ue.finallyLoc)return W(ue.finallyLoc)}}}},abrupt:function(z,L){for(var W=this.tryEntries.length-1;W>=0;--W){var ce=this.tryEntries[W];if(ce.tryLoc<=this.prev&&w.call(ce,"finallyLoc")&&this.prev<ce.finallyLoc){var ue=ce;break}}ue&&(z==="break"||z==="continue")&&ue.tryLoc<=L&&L<=ue.finallyLoc&&(ue=null);var ve=ue?ue.completion:{};return ve.type=z,ve.arg=L,ue?(this.method="next",this.next=ue.finallyLoc,C):this.complete(ve)},complete:function(z,L){if(z.type==="throw")throw z.arg;return z.type==="break"||z.type==="continue"?this.next=z.arg:z.type==="return"?(this.rval=this.arg=z.arg,this.method="return",this.next="end"):z.type==="normal"&&L&&(this.next=L),C},finish:function(z){for(var L=this.tryEntries.length-1;L>=0;--L){var W=this.tryEntries[L];if(W.finallyLoc===z)return this.complete(W.completion,W.afterLoc),re(W),C}},catch:function(z){for(var L=this.tryEntries.length-1;L>=0;--L){var W=this.tryEntries[L];if(W.tryLoc===z){var ce=W.completion;if(ce.type==="throw"){var ue=ce.arg;re(W)}return ue}}throw new Error("illegal catch attempt")},delegateYield:function(z,L,W){return this.delegate={iterator:de(z),resultName:L,nextLoc:W},this.method==="next"&&(this.arg=s),C}},l}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,o,e){var n=e(2);t.exports=function(i,s){for(;!Object.prototype.hasOwnProperty.call(i,s)&&(i=n(i))!==null;);return i},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,o,e){var n=e(60);t.exports=function(i){if(Array.isArray(i))return n(i)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,o){t.exports=function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,o){t.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,o,e){var n=e(147),i=e(157);t.exports=function(s,l){return n(s,l,function(h,w){return i(s,w)})}},function(t,o,e){var n=e(148),i=e(156),s=e(32);t.exports=function(l,h,w){for(var S=-1,R=h.length,N={};++S<R;){var D=h[S],H=n(l,D);w(H,D)&&i(N,s(D,l),H)}return N}},function(t,o,e){var n=e(32),i=e(42);t.exports=function(s,l){for(var h=0,w=(l=n(l,s)).length;s!=null&&h<w;)s=s[i(l[h++])];return h&&h==w?s:void 0}},function(t,o,e){var n=e(16),i=e(41),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/;t.exports=function(h,w){if(n(h))return!1;var S=typeof h;return!(S!="number"&&S!="symbol"&&S!="boolean"&&h!=null&&!i(h))||l.test(h)||!s.test(h)||w!=null&&h in Object(w)}},function(t,o,e){var n=e(151),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,l=n(function(h){var w=[];return h.charCodeAt(0)===46&&w.push(""),h.replace(i,function(S,R,N,D){w.push(N?D.replace(s,"$1"):R||S)}),w});t.exports=l},function(t,o,e){var n=e(152);t.exports=function(i){var s=n(i,function(h){return l.size===500&&l.clear(),h}),l=s.cache;return s}},function(t,o,e){var n=e(46);function i(s,l){if(typeof s!="function"||l!=null&&typeof l!="function")throw new TypeError("Expected a function");var h=function(){var w=arguments,S=l?l.apply(this,w):w[0],R=h.cache;if(R.has(S))return R.get(S);var N=s.apply(this,w);return h.cache=R.set(S,N)||R,N};return h.cache=new(i.Cache||n),h}i.Cache=n,t.exports=i},function(t,o,e){var n=e(154);t.exports=function(i){return i==null?"":n(i)}},function(t,o,e){var n=e(27),i=e(155),s=e(16),l=e(41),h=n?n.prototype:void 0,w=h?h.toString:void 0;t.exports=function S(R){if(typeof R=="string")return R;if(s(R))return i(R,S)+"";if(l(R))return w?w.call(R):"";var N=R+"";return N=="0"&&1/R==-1/0?"-0":N}},function(t,o){t.exports=function(e,n){for(var i=-1,s=e==null?0:e.length,l=Array(s);++i<s;)l[i]=n(e[i],i,e);return l}},function(t,o,e){var n=e(54),i=e(32),s=e(31),l=e(15),h=e(42);t.exports=function(w,S,R,N){if(!l(w))return w;for(var D=-1,H=(S=i(S,w)).length,ee=H-1,te=w;te!=null&&++D<H;){var ie=h(S[D]),B=R;if(ie==="__proto__"||ie==="constructor"||ie==="prototype")return w;if(D!=ee){var k=te[ie];(B=N?N(k,ie,te):void 0)===void 0&&(B=l(k)?k:s(S[D+1])?[]:{})}n(te,ie,B),te=te[ie]}return w}},function(t,o,e){var n=e(158),i=e(159);t.exports=function(s,l){return s!=null&&i(s,l,n)}},function(t,o){t.exports=function(e,n){return e!=null&&n in Object(e)}},function(t,o,e){var n=e(32),i=e(30),s=e(16),l=e(31),h=e(39),w=e(42);t.exports=function(S,R,N){for(var D=-1,H=(R=n(R,S)).length,ee=!1;++D<H;){var te=w(R[D]);if(!(ee=S!=null&&N(S,te)))break;S=S[te]}return ee||++D!=H?ee:!!(H=S==null?0:S.length)&&h(H)&&l(te,H)&&(s(S)||i(S))}},function(t,o,e){var n=e(161),i=e(57),s=e(58);t.exports=function(l){return s(i(l,void 0,n),l+"")}},function(t,o,e){var n=e(162);t.exports=function(i){return i!=null&&i.length?n(i,1):[]}},function(t,o,e){var n=e(163),i=e(164);t.exports=function s(l,h,w,S,R){var N=-1,D=l.length;for(w||(w=i),R||(R=[]);++N<D;){var H=l[N];h>0&&w(H)?h>1?s(H,h-1,w,S,R):n(R,H):S||(R[R.length]=H)}return R}},function(t,o){t.exports=function(e,n){for(var i=-1,s=n.length,l=e.length;++i<s;)e[l+i]=n[i];return e}},function(t,o,e){var n=e(27),i=e(30),s=e(16),l=n?n.isConcatSpreadable:void 0;t.exports=function(h){return s(h)||i(h)||!!(l&&h&&h[l])}},function(t,o){t.exports=function(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,o,e){var n=e(40),i=e(167);function s(l,h,w){return i()?(t.exports=s=Reflect.construct.bind(),t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=s=function(S,R,N){var D=[null];D.push.apply(D,R);var H=new(Function.bind.apply(S,D));return N&&n(H,N.prototype),H},t.exports.__esModule=!0,t.exports.default=t.exports),s.apply(null,arguments)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,o){t.exports=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,o,e){"use strict";e.r(o),e.d(o,"BarcodeDecoder",function(){return kt}),e.d(o,"Readers",function(){return n}),e.d(o,"CameraAccess",function(){return vt}),e.d(o,"ImageDebug",function(){return H.a}),e.d(o,"ImageWrapper",function(){return w.a}),e.d(o,"ResultCollector",function(){return Sr});var n={};e.r(n),e.d(n,"BarcodeReader",function(){return J}),e.d(n,"TwoOfFiveReader",function(){return z}),e.d(n,"NewCodabarReader",function(){return ve}),e.d(n,"Code128Reader",function(){return Ce}),e.d(n,"Code32Reader",function(){return er}),e.d(n,"Code39Reader",function(){return ht}),e.d(n,"Code39VINReader",function(){return Pt}),e.d(n,"Code93Reader",function(){return ir}),e.d(n,"EAN2Reader",function(){return lr}),e.d(n,"EAN5Reader",function(){return fr}),e.d(n,"EAN8Reader",function(){return dr}),e.d(n,"EANReader",function(){return Qe}),e.d(n,"I2of5Reader",function(){return pr}),e.d(n,"UPCEReader",function(){return mr}),e.d(n,"UPCReader",function(){return vr});var i=e(13),s=e.n(i),l=e(18),h=e.n(l),w=(e(136),e(11)),S=e(12),R=e.n(S),N=e(8),D=e.n(N),H=e(17),ee=e(3),te=e.n(ee),ie=e(4),B=e.n(ie),k=e(1),E=e.n(k),C=e(7),P=e.n(C),F=e(6),A=e.n(F),X=e(2),I=e.n(X),V=e(0),M=e.n(V),Q=e(9),K=function(m){return m[m.Forward=1]="Forward",m[m.Reverse=-1]="Reverse",m}({}),J=function(){function m(x,d){te()(this,m),M()(this,"_row",[]),M()(this,"config",{}),M()(this,"supplements",[]),M()(this,"SINGLE_CODE_ERROR",0),M()(this,"FORMAT","unknown"),M()(this,"CONFIG_KEYS",{}),this._row=[],this.config=x||{},d&&(this.supplements=d)}return B()(m,[{key:"_nextUnset",value:function(x){for(var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=d;r<x.length;r++)if(!x[r])return r;return x.length}},{key:"_matchPattern",value:function(x,d){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.SINGLE_CODE_ERROR||1,a=0,u=0,f=0,v=0,_=0,g=0,b=0,O=0;O<x.length;O++)f+=x[O],v+=d[O];if(f<v)return Number.MAX_VALUE;r*=_=f/v;for(var U=0;U<x.length;U++){if(g=x[U],b=d[U]*_,(u=Math.abs(g-b)/b)>r)return Number.MAX_VALUE;a+=u}return a/v}},{key:"_nextSet",value:function(x){for(var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=d;r<x.length;r++)if(x[r])return r;return x.length}},{key:"_correctBars",value:function(x,d,r){for(var a=r.length,u=0;a--;)(u=x[r[a]]*(1-(1-d)/2))>1&&(x[r[a]]=u)}},{key:"decodePattern",value:function(x){this._row=x;var d=this.decode();return d===null?(this._row.reverse(),(d=this.decode())&&(d.direction=K.Reverse,d.start=this._row.length-d.start,d.end=this._row.length-d.end)):d.direction=K.Forward,d&&(d.format=this.FORMAT),d}},{key:"_matchRange",value:function(x,d,r){var a;for(a=x=x<0?0:x;a<d;a++)if(this._row[a]!==r)return!1;return!0}},{key:"_fillCounters",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._nextUnset(this._row),d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._row.length,r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=[],u=0;a[u]=0;for(var f=x;f<d;f++)this._row[f]^(r?1:0)?a[u]++:(a[++u]=1,r=!r);return a}},{key:"_toCounters",value:function(x,d){var r=d.length,a=this._row.length,u=!this._row[x],f=0;Q.a.init(d,0);for(var v=x;v<a;v++)if(this._row[v]^(u?1:0))d[f]++;else{if(++f===r)break;d[f]=1,u=!u}return d}},{key:"decodeImage",value:function(x){return null}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}]),m}();function $(m){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,r=I()(m);if(x){var a=I()(this).constructor;d=Reflect.construct(r,arguments,a)}else d=r.apply(this,arguments);return A()(this,d)}}var ae=[3,1,3,1,1,1],re=[3,1,1,1,3],ne=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],de=ae.reduce(function(m,x){return m+x},0),z=function(m){P()(d,m);var x=$(d);function d(){var r;te()(this,d);for(var a=arguments.length,u=new Array(a),f=0;f<a;f++)u[f]=arguments[f];return r=x.call.apply(x,[this].concat(u)),M()(E()(r),"barSpaceRatio",[1,1]),M()(E()(r),"FORMAT","2of5"),M()(E()(r),"SINGLE_CODE_ERROR",.78),M()(E()(r),"AVG_CODE_ERROR",.3),r}return B()(d,[{key:"_findPattern",value:function(r,a){var u=arguments.length>2&&arguments[2]!==void 0&&arguments[2],f=arguments.length>3&&arguments[3]!==void 0&&arguments[3],v=[],_=0,g={error:Number.MAX_VALUE,code:-1,start:0,end:0},b=0,O=0,U=this.AVG_CODE_ERROR;a||(a=this._nextSet(this._row));for(var Y=0;Y<r.length;Y++)v[Y]=0;for(var G=a;G<this._row.length;G++)if(this._row[G]^(u?1:0))v[_]++;else{if(_===v.length-1){b=0;for(var Z=0;Z<v.length;Z++)b+=v[Z];if((O=this._matchPattern(v,r))<U)return g.error=O,g.start=G-b,g.end=G,g;if(!f)return null;for(var he=0;he<v.length-2;he++)v[he]=v[he+2];v[v.length-2]=0,v[v.length-1]=0,_--}else _++;v[_]=1,u=!u}return null}},{key:"_findStart",value:function(){for(var r=null,a=this._nextSet(this._row),u=1,f=0;!r;){if(!(r=this._findPattern(ae,a,!1,!0)))return null;if(u=Math.floor((r.end-r.start)/de),(f=r.start-5*u)>=0&&this._matchRange(f,r.start,0))return r;a=r.end,r=null}return r}},{key:"_verifyTrailingWhitespace",value:function(r){var a=r.end+(r.end-r.start)/2;return a<this._row.length&&this._matchRange(r.end,a,0)?r:null}},{key:"_findEnd",value:function(){this._row.reverse();var r=this._nextSet(this._row),a=this._findPattern(re,r,!1,!0);if(this._row.reverse(),a===null)return null;var u=a.start;return a.start=this._row.length-a.end,a.end=this._row.length-u,a!==null?this._verifyTrailingWhitespace(a):null}},{key:"_verifyCounterLength",value:function(r){return r.length%10==0}},{key:"_decodeCode",value:function(r){for(var a=this.AVG_CODE_ERROR,u={error:Number.MAX_VALUE,code:-1,start:0,end:0},f=0;f<ne.length;f++){var v=this._matchPattern(r,ne[f]);v<u.error&&(u.code=f,u.error=v)}return u.error<a?u:null}},{key:"_decodePayload",value:function(r,a,u){for(var f=0,v=r.length,_=[0,0,0,0,0],g=null;f<v;){for(var b=0;b<5;b++)_[b]=r[f]*this.barSpaceRatio[0],f+=2;if(!(g=this._decodeCode(_)))return null;a.push("".concat(g.code)),u.push(g)}return g}},{key:"decode",value:function(r,a){var u=this._findStart();if(!u)return null;var f=this._findEnd();if(!f)return null;var v=this._fillCounters(u.end,f.start,!1);if(!this._verifyCounterLength(v))return null;var _=[];_.push(u);var g=[];return this._decodePayload(v,g,_)?g.length<5?null:(_.push(f),{code:g.join(""),start:u.start,end:f.end,startInfo:u,decodedCodes:_,format:this.FORMAT}):null}}]),d}(J);function L(m){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,r=I()(m);if(x){var a=I()(this).constructor;d=Reflect.construct(r,arguments,a)}else d=r.apply(this,arguments);return A()(this,d)}}var W=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],ce=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],ue=[26,41,11,14],ve=function(m){P()(d,m);var x=L(d);function d(){var r;te()(this,d);for(var a=arguments.length,u=new Array(a),f=0;f<a;f++)u[f]=arguments[f];return r=x.call.apply(x,[this].concat(u)),M()(E()(r),"_counters",[]),M()(E()(r),"FORMAT","codabar"),r}return B()(d,[{key:"_computeAlternatingThreshold",value:function(r,a){for(var u=Number.MAX_VALUE,f=0,v=0,_=r;_<a;_+=2)(v=this._counters[_])>f&&(f=v),v<u&&(u=v);return(u+f)/2|0}},{key:"_toPattern",value:function(r){var a=r+7;if(a>this._counters.length)return-1;for(var u=this._computeAlternatingThreshold(r,a),f=this._computeAlternatingThreshold(r+1,a),v=64,_=0,g=0,b=0;b<7;b++)_=1&b?f:u,this._counters[r+b]>_&&(g|=v),v>>=1;return g}},{key:"_isStartEnd",value:function(r){for(var a=0;a<ue.length;a++)if(ue[a]===r)return!0;return!1}},{key:"_sumCounters",value:function(r,a){for(var u=0,f=r;f<a;f++)u+=this._counters[f];return u}},{key:"_findStart",value:function(){for(var r=this._nextUnset(this._row),a=1;a<this._counters.length;a++){var u=this._toPattern(a);if(u!==-1&&this._isStartEnd(u))return{start:r+=this._sumCounters(0,a),end:r+this._sumCounters(a,a+8),startCounter:a,endCounter:a+8}}return null}},{key:"_patternToChar",value:function(r){for(var a=0;a<ce.length;a++)if(ce[a]===r)return String.fromCharCode(W[a]);return null}},{key:"_calculatePatternLength",value:function(r){for(var a=0,u=r;u<r+7;u++)a+=this._counters[u];return a}},{key:"_verifyWhitespace",value:function(r,a){return(r-1<=0||this._counters[r-1]>=this._calculatePatternLength(r)/2)&&(a+8>=this._counters.length||this._counters[a+7]>=this._calculatePatternLength(a)/2)}},{key:"_charToPattern",value:function(r){for(var a=r.charCodeAt(0),u=0;u<W.length;u++)if(W[u]===a)return ce[u];return 0}},{key:"_thresholdResultPattern",value:function(r,a){for(var u,f={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},v=a,_=0;_<r.length;_++){u=this._charToPattern(r[_]);for(var g=6;g>=0;g--){var b=(1&g)==2?f.bar:f.space,O=(1&u)==1?b.wide:b.narrow;O.size+=this._counters[v+g],O.counts++,u>>=1}v+=8}return["space","bar"].forEach(function(U){var Y=f[U];Y.wide.min=Math.floor((Y.narrow.size/Y.narrow.counts+Y.wide.size/Y.wide.counts)/2),Y.narrow.max=Math.ceil(Y.wide.min),Y.wide.max=Math.ceil((2*Y.wide.size+1.5)/Y.wide.counts)}),f}},{key:"_validateResult",value:function(r,a){for(var u,f=this._thresholdResultPattern(r,a),v=a,_=0;_<r.length;_++){u=this._charToPattern(r[_]);for(var g=6;g>=0;g--){var b=1&g?f.space:f.bar,O=(1&u)==1?b.wide:b.narrow,U=this._counters[v+g];if(U<O.min||U>O.max)return!1;u>>=1}v+=8}return!0}},{key:"decode",value:function(r,a){if(this._counters=this._fillCounters(),!(a=this._findStart()))return null;var u,f=a.startCounter,v=[];do{if((u=this._toPattern(f))<0)return null;var _=this._patternToChar(u);if(_===null)return null;if(v.push(_),f+=8,v.length>1&&this._isStartEnd(u))break}while(f<this._counters.length);if(v.length-2<4||!this._isStartEnd(u)||!this._verifyWhitespace(a.startCounter,f-8)||!this._validateResult(v,a.startCounter))return null;f=f>this._counters.length?this._counters.length:f;var g=a.start+this._sumCounters(a.startCounter,f-8);return{code:v.join(""),start:a.start,end:g,startInfo:a,decodedCodes:v,format:this.FORMAT}}}]),d}(J);function _e(m){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,r=I()(m);if(x){var a=I()(this).constructor;d=Reflect.construct(r,arguments,a)}else d=r.apply(this,arguments);return A()(this,d)}}var Ce=function(m){P()(d,m);var x=_e(d);function d(){var r;te()(this,d);for(var a=arguments.length,u=new Array(a),f=0;f<a;f++)u[f]=arguments[f];return r=x.call.apply(x,[this].concat(u)),M()(E()(r),"CODE_SHIFT",98),M()(E()(r),"CODE_C",99),M()(E()(r),"CODE_B",100),M()(E()(r),"CODE_A",101),M()(E()(r),"START_CODE_A",103),M()(E()(r),"START_CODE_B",104),M()(E()(r),"START_CODE_C",105),M()(E()(r),"STOP_CODE",106),M()(E()(r),"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),M()(E()(r),"SINGLE_CODE_ERROR",.64),M()(E()(r),"AVG_CODE_ERROR",.3),M()(E()(r),"FORMAT","code_128"),M()(E()(r),"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),r}return B()(d,[{key:"_decodeCode",value:function(r,a){for(var u={error:Number.MAX_VALUE,code:-1,start:r,end:r,correction:{bar:1,space:1}},f=[0,0,0,0,0,0],v=r,_=!this._row[v],g=0,b=v;b<this._row.length;b++)if(this._row[b]^(_?1:0))f[g]++;else{if(g===f.length-1){a&&this._correct(f,a);for(var O=0;O<this.CODE_PATTERN.length;O++){var U=this._matchPattern(f,this.CODE_PATTERN[O]);U<u.error&&(u.code=O,u.error=U)}return u.end=b,u.code===-1||u.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[u.code]&&(u.correction.bar=this.calculateCorrection(this.CODE_PATTERN[u.code],f,this.MODULE_INDICES.bar),u.correction.space=this.calculateCorrection(this.CODE_PATTERN[u.code],f,this.MODULE_INDICES.space)),u)}f[++g]=1,_=!_}return null}},{key:"_correct",value:function(r,a){this._correctBars(r,a.bar,this.MODULE_INDICES.bar),this._correctBars(r,a.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var r=[0,0,0,0,0,0],a=this._nextSet(this._row),u={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},f=!1,v=0,_=a;_<this._row.length;_++)if(this._row[_]^(f?1:0))r[v]++;else{if(v===r.length-1){for(var g=r.reduce(function(Y,G){return Y+G},0),b=this.START_CODE_A;b<=this.START_CODE_C;b++){var O=this._matchPattern(r,this.CODE_PATTERN[b]);O<u.error&&(u.code=b,u.error=O)}if(u.error<this.AVG_CODE_ERROR)return u.start=_-g,u.end=_,u.correction.bar=this.calculateCorrection(this.CODE_PATTERN[u.code],r,this.MODULE_INDICES.bar),u.correction.space=this.calculateCorrection(this.CODE_PATTERN[u.code],r,this.MODULE_INDICES.space),u;for(var U=0;U<4;U++)r[U]=r[U+2];r[4]=0,r[5]=0,v--}else v++;r[v]=1,f=!f}return null}},{key:"decode",value:function(r,a){var u=this,f=this._findStart();if(f===null)return null;var v={code:f.code,start:f.start,end:f.end,correction:{bar:f.correction.bar,space:f.correction.space}},_=[];_.push(v);for(var g=v.code,b=function(me){switch(me){case u.START_CODE_A:return u.CODE_A;case u.START_CODE_B:return u.CODE_B;case u.START_CODE_C:return u.CODE_C;default:return null}}(v.code),O=!1,U=!1,Y=U,G=!0,Z=0,he=[],ge=[];!O;){if(Y=U,U=!1,(v=this._decodeCode(v.end,v.correction))!==null)switch(v.code!==this.STOP_CODE&&(G=!0),v.code!==this.STOP_CODE&&(he.push(v.code),g+=++Z*v.code),_.push(v),b){case this.CODE_A:if(v.code<64)ge.push(String.fromCharCode(32+v.code));else if(v.code<96)ge.push(String.fromCharCode(v.code-64));else switch(v.code!==this.STOP_CODE&&(G=!1),v.code){case this.CODE_SHIFT:U=!0,b=this.CODE_B;break;case this.CODE_B:b=this.CODE_B;break;case this.CODE_C:b=this.CODE_C;break;case this.STOP_CODE:O=!0}break;case this.CODE_B:if(v.code<96)ge.push(String.fromCharCode(32+v.code));else switch(v.code!==this.STOP_CODE&&(G=!1),v.code){case this.CODE_SHIFT:U=!0,b=this.CODE_A;break;case this.CODE_A:b=this.CODE_A;break;case this.CODE_C:b=this.CODE_C;break;case this.STOP_CODE:O=!0}break;case this.CODE_C:if(v.code<100)ge.push(v.code<10?"0"+v.code:v.code);else switch(v.code!==this.STOP_CODE&&(G=!1),v.code){case this.CODE_A:b=this.CODE_A;break;case this.CODE_B:b=this.CODE_B;break;case this.STOP_CODE:O=!0}}else O=!0;Y&&(b=b===this.CODE_A?this.CODE_B:this.CODE_A)}return v===null?null:(v.end=this._nextUnset(this._row,v.end),this._verifyTrailingWhitespace(v)?(g-=Z*he[he.length-1])%103!==he[he.length-1]?null:ge.length?(G&&ge.splice(ge.length-1,1),{code:ge.join(""),start:f.start,end:v.end,codeset:b,startInfo:f,decodedCodes:_,endInfo:v,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(r){var a;return(a=r.end+(r.end-r.start)/2)<this._row.length&&this._matchRange(r.end,a,0)?r:null}},{key:"calculateCorrection",value:function(r,a,u){for(var f=u.length,v=0,_=0;f--;)_+=r[u[f]],v+=a[u[f]];return _/v}}]),d}(J),Oe=e(14),Te=e.n(Oe),Fe=e(33),je=e.n(Fe);function Zt(m){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,r=I()(m);if(x){var a=I()(this).constructor;d=Reflect.construct(r,arguments,a)}else d=r.apply(this,arguments);return A()(this,d)}}var pn=new Uint16Array(je()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(m){return m.charCodeAt(0)})),Jt=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),ht=function(m){P()(d,m);var x=Zt(d);function d(){var r;te()(this,d);for(var a=arguments.length,u=new Array(a),f=0;f<a;f++)u[f]=arguments[f];return r=x.call.apply(x,[this].concat(u)),M()(E()(r),"FORMAT","code_39"),r}return B()(d,[{key:"_findStart",value:function(){for(var r=this._nextSet(this._row),a=r,u=new Uint16Array([0,0,0,0,0,0,0,0,0]),f=0,v=!1,_=r;_<this._row.length;_++)if(this._row[_]^(v?1:0))u[f]++;else{if(f===u.length-1){if(this._toPattern(u)===148){var g=Math.floor(Math.max(0,a-(_-a)/4));if(this._matchRange(g,a,0))return{start:a,end:_}}a+=u[0]+u[1];for(var b=0;b<7;b++)u[b]=u[b+2];u[7]=0,u[8]=0,f--}else f++;u[f]=1,v=!v}return null}},{key:"_toPattern",value:function(r){for(var a=r.length,u=0,f=a,v=0;f>3;){u=this._findNextWidth(r,u),f=0;for(var _=0,g=0;g<a;g++)r[g]>u&&(_|=1<<a-1-g,f++,v+=r[g]);if(f===3){for(var b=0;b<a&&f>0;b++)if(r[b]>u&&(f--,2*r[b]>=v))return-1;return _}}return-1}},{key:"_findNextWidth",value:function(r,a){for(var u=Number.MAX_VALUE,f=0;f<r.length;f++)r[f]<u&&r[f]>a&&(u=r[f]);return u}},{key:"_patternToChar",value:function(r){for(var a=0;a<Jt.length;a++)if(Jt[a]===r)return String.fromCharCode(pn[a]);return null}},{key:"_verifyTrailingWhitespace",value:function(r,a,u){var f=Q.a.sum(u);return 3*(a-r-f)>=f}},{key:"decode",value:function(){var r=new Uint16Array([0,0,0,0,0,0,0,0,0]),a=[],u=this._findStart();if(!u)return null;var f,v,_=this._nextSet(this._row,u.end);do{r=this._toCounters(_,r);var g=this._toPattern(r);if(g<0||(f=this._patternToChar(g))===null)return null;a.push(f),v=_,_+=Q.a.sum(r),_=this._nextSet(this._row,_)}while(f!=="*");return a.pop(),a.length&&this._verifyTrailingWhitespace(v,_,r)?{code:a.join(""),start:u.start,end:_,startInfo:u,decodedCodes:a,format:this.FORMAT}:null}}]),d}(J);function hn(m){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,r=I()(m);if(x){var a=I()(this).constructor;d=Reflect.construct(r,arguments,a)}else d=r.apply(this,arguments);return A()(this,d)}}var mn=/[AEIO]/g,er=function(m){P()(d,m);var x=hn(d);function d(){var r;te()(this,d);for(var a=arguments.length,u=new Array(a),f=0;f<a;f++)u[f]=arguments[f];return r=x.call.apply(x,[this].concat(u)),M()(E()(r),"FORMAT","code_32_reader"),r}return B()(d,[{key:"_decodeCode32",value:function(r){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(r))return null;for(var a=0,u=0;u<r.length;u++)a=32*a+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(r[u]);var f="".concat(a);return f.length<9&&(f=("000000000"+f).slice(-9)),"A"+f}},{key:"_checkChecksum",value:function(r){return!!r}},{key:"decode",value:function(){var r=Te()(I()(d.prototype),"decode",this).call(this);if(!r)return null;var a=r.code;if(!a||(a=a.replace(mn,""),!this._checkChecksum(a)))return null;var u=this._decodeCode32(a);return u?(r.code=u,r):null}}]),d}(ht);function vn(m){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,r=I()(m);if(x){var a=I()(this).constructor;d=Reflect.construct(r,arguments,a)}else d=r.apply(this,arguments);return A()(this,d)}}var tr=/[IOQ]/g,rr=/[A-Z0-9]{17}/,Pt=function(m){P()(d,m);var x=vn(d);function d(){var r;te()(this,d);for(var a=arguments.length,u=new Array(a),f=0;f<a;f++)u[f]=arguments[f];return r=x.call.apply(x,[this].concat(u)),M()(E()(r),"FORMAT","code_39_vin"),r}return B()(d,[{key:"_checkChecksum",value:function(r){return!!r}},{key:"decode",value:function(){var r=Te()(I()(d.prototype),"decode",this).call(this);if(!r)return null;var a=r.code;return a&&(a=a.replace(tr,"")).match(rr)&&this._checkChecksum(a)?(r.code=a,r):null}}]),d}(ht);function nr(m){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,r=I()(m);if(x){var a=I()(this).constructor;d=Reflect.construct(r,arguments,a)}else d=r.apply(this,arguments);return A()(this,d)}}var At=new Uint16Array(je()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(m){return m.charCodeAt(0)})),or=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),ir=function(m){P()(d,m);var x=nr(d);function d(){var r;te()(this,d);for(var a=arguments.length,u=new Array(a),f=0;f<a;f++)u[f]=arguments[f];return r=x.call.apply(x,[this].concat(u)),M()(E()(r),"FORMAT","code_93"),r}return B()(d,[{key:"_patternToChar",value:function(r){for(var a=0;a<or.length;a++)if(or[a]===r)return String.fromCharCode(At[a]);return null}},{key:"_toPattern",value:function(r){for(var a=r.length,u=r.reduce(function(b,O){return b+O},0),f=0,v=0;v<a;v++){var _=Math.round(9*r[v]/u);if(_<1||_>4)return-1;if(1&v)f<<=_;else for(var g=0;g<_;g++)f=f<<1|1}return f}},{key:"_findStart",value:function(){for(var r=this._nextSet(this._row),a=r,u=new Uint16Array([0,0,0,0,0,0]),f=0,v=!1,_=r;_<this._row.length;_++)if(this._row[_]^(v?1:0))u[f]++;else{if(f===u.length-1){if(this._toPattern(u)===350){var g=Math.floor(Math.max(0,a-(_-a)/4));if(this._matchRange(g,a,0))return{start:a,end:_}}a+=u[0]+u[1];for(var b=0;b<4;b++)u[b]=u[b+2];u[4]=0,u[5]=0,f--}else f++;u[f]=1,v=!v}return null}},{key:"_verifyEnd",value:function(r,a){return!(r===a||!this._row[a])}},{key:"_decodeExtended",value:function(r){for(var a=r.length,u=[],f=0;f<a;f++){var v=r[f];if(v>="a"&&v<="d"){if(f>a-2)return null;var _=r[++f],g=_.charCodeAt(0),b=void 0;switch(v){case"a":if(!(_>="A"&&_<="Z"))return null;b=String.fromCharCode(g-64);break;case"b":if(_>="A"&&_<="E")b=String.fromCharCode(g-38);else if(_>="F"&&_<="J")b=String.fromCharCode(g-11);else if(_>="K"&&_<="O")b=String.fromCharCode(g+16);else if(_>="P"&&_<="S")b=String.fromCharCode(g+43);else{if(!(_>="T"&&_<="Z"))return null;b="\x7F"}break;case"c":if(_>="A"&&_<="O")b=String.fromCharCode(g-32);else{if(_!=="Z")return null;b=":"}break;case"d":if(!(_>="A"&&_<="Z"))return null;b=String.fromCharCode(g+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",b),null}u.push(b)}else u.push(v)}return u}},{key:"_matchCheckChar",value:function(r,a,u){var f=r.slice(0,a),v=f.length,_=f.reduce(function(g,b,O){return g+((-1*O+(v-1))%u+1)*At.indexOf(b.charCodeAt(0))},0);return At[_%47]===r[a].charCodeAt(0)}},{key:"_verifyChecksums",value:function(r){return this._matchCheckChar(r,r.length-2,20)&&this._matchCheckChar(r,r.length-1,15)}},{key:"decode",value:function(r,a){if(!(a=this._findStart()))return null;var u,f,v=new Uint16Array([0,0,0,0,0,0]),_=[],g=this._nextSet(this._row,a.end);do{v=this._toCounters(g,v);var b=this._toPattern(v);if(b<0||(f=this._patternToChar(b))===null)return null;_.push(f),u=g,g+=Q.a.sum(v),g=this._nextSet(this._row,g)}while(f!=="*");return _.pop(),_.length&&this._verifyEnd(u,g)&&this._verifyChecksums(_)?(_=_.slice(0,_.length-2),(_=this._decodeExtended(_))===null?null:{code:_.join(""),start:a.start,end:g,startInfo:a,decodedCodes:_,format:this.FORMAT}):null}}]),d}(J);function ar(m,x){var d=Object.keys(m);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(m);x&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(m,a).enumerable})),d.push.apply(d,r)}return d}function It(m){for(var x=1;x<arguments.length;x++){var d=arguments[x]!=null?arguments[x]:{};x%2?ar(Object(d),!0).forEach(function(r){M()(m,r,d[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(d)):ar(Object(d)).forEach(function(r){Object.defineProperty(m,r,Object.getOwnPropertyDescriptor(d,r))})}return m}function gn(m){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,r=I()(m);if(x){var a=I()(this).constructor;d=Reflect.construct(r,arguments,a)}else d=r.apply(this,arguments);return A()(this,d)}}var yn=[1,1,1],ur=[1,1,1,1,1],_n=[1,1,2],cr=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],sr=[0,11,13,14,19,25,28,21,22,26],Qe=function(m){P()(d,m);var x=gn(d);function d(r,a){var u;return te()(this,d),u=x.call(this,h()({supplements:[]},r),a),M()(E()(u),"FORMAT","ean_13"),M()(E()(u),"SINGLE_CODE_ERROR",.7),M()(E()(u),"STOP_PATTERN",[1,1,1]),u}return B()(d,[{key:"_findPattern",value:function(r,a,u,f){var v=new Array(r.length).fill(0),_={error:Number.MAX_VALUE,start:0,end:0},g=0;a||(a=this._nextSet(this._row));for(var b=!1,O=a;O<this._row.length;O++)if(this._row[O]^(u?1:0))v[g]+=1;else{if(g===v.length-1){var U=this._matchPattern(v,r);if(U<.48&&_.error&&U<_.error)return b=!0,_.error=U,_.start=O-v.reduce(function(G,Z){return G+Z},0),_.end=O,_;if(f){for(var Y=0;Y<v.length-2;Y++)v[Y]=v[Y+2];v[v.length-2]=0,v[v.length-1]=0,g--}}else g++;v[g]=1,u=!u}return b?_:null}},{key:"_decodeCode",value:function(r,a){var u=[0,0,0,0],f=r,v={error:Number.MAX_VALUE,code:-1,start:r,end:r},_=!this._row[f],g=0;a||(a=cr.length);for(var b=f;b<this._row.length;b++)if(this._row[b]^(_?1:0))u[g]++;else{if(g===u.length-1){for(var O=0;O<a;O++){var U=this._matchPattern(u,cr[O]);v.end=b,U<v.error&&(v.code=O,v.error=U)}return v.error>.48?null:v}u[++g]=1,_=!_}return null}},{key:"_findStart",value:function(){for(var r=this._nextSet(this._row),a=null;!a;){if(!(a=this._findPattern(yn,r,!1,!0)))return null;var u=a.start-(a.end-a.start);if(u>=0&&this._matchRange(u,a.start,0))return a;r=a.end,a=null}return null}},{key:"_calculateFirstDigit",value:function(r){for(var a=0;a<sr.length;a++)if(r===sr[a])return a;return null}},{key:"_decodePayload",value:function(r,a,u){for(var f=It({},r),v=0,_=0;_<6;_++){if(!(f=this._decodeCode(f.end)))return null;f.code>=10?(f.code-=10,v|=1<<5-_):v|=0<<5-_,a.push(f.code),u.push(f)}var g=this._calculateFirstDigit(v);if(g===null)return null;a.unshift(g);var b=this._findPattern(ur,f.end,!0,!1);if(b===null||!b.end)return null;u.push(b);for(var O=0;O<6;O++){if(!(b=this._decodeCode(b.end,10)))return null;u.push(b),a.push(b.code)}return b}},{key:"_verifyTrailingWhitespace",value:function(r){var a=r.end+(r.end-r.start);return a<this._row.length&&this._matchRange(r.end,a,0)?r:null}},{key:"_findEnd",value:function(r,a){var u=this._findPattern(this.STOP_PATTERN,r,a,!1);return u!==null?this._verifyTrailingWhitespace(u):null}},{key:"_checksum",value:function(r){for(var a=0,u=r.length-2;u>=0;u-=2)a+=r[u];a*=3;for(var f=r.length-1;f>=0;f-=2)a+=r[f];return a%10==0}},{key:"_decodeExtensions",value:function(r){var a=this._nextSet(this._row,r),u=this._findPattern(_n,a,!1,!1);if(u===null)return null;for(var f=0;f<this.supplements.length;f++)try{var v=this.supplements[f].decode(this._row,u.end);if(v!==null)return{code:v.code,start:a,startInfo:u,end:v.end,decodedCodes:v.decodedCodes,format:this.supplements[f].FORMAT}}catch(_){console.error("* decodeExtensions error in ",this.supplements[f],": ",_)}return null}},{key:"decode",value:function(r,a){var u=new Array,f=new Array,v={},_=this._findStart();if(!_)return null;var g={start:_.start,end:_.end};if(f.push(g),!(g=this._decodePayload(g,u,f))||!(g=this._findEnd(g.end,!1))||(f.push(g),!this._checksum(u)))return null;if(this.supplements.length>0){var b=this._decodeExtensions(g.end);if(!b||!b.decodedCodes)return null;var O=b.decodedCodes[b.decodedCodes.length-1],U={start:O.start+((O.end-O.start)/2|0),end:O.end};if(!this._verifyTrailingWhitespace(U))return null;v={supplement:b,code:u.join("")+b.code}}return It(It({code:u.join(""),start:_.start,end:g.end,startInfo:_,decodedCodes:f},v),{},{format:this.FORMAT})}}]),d}(J);function xn(m){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,r=I()(m);if(x){var a=I()(this).constructor;d=Reflect.construct(r,arguments,a)}else d=r.apply(this,arguments);return A()(this,d)}}var lr=function(m){P()(d,m);var x=xn(d);function d(){var r;te()(this,d);for(var a=arguments.length,u=new Array(a),f=0;f<a;f++)u[f]=arguments[f];return r=x.call.apply(x,[this].concat(u)),M()(E()(r),"FORMAT","ean_2"),r}return B()(d,[{key:"decode",value:function(r,a){r&&(this._row=r);var u=0,f=a,v=this._row.length,_=[],g=[],b=null;if(f===void 0)return null;for(var O=0;O<2&&f<v;O++){if(!(b=this._decodeCode(f)))return null;g.push(b),_.push(b.code%10),b.code>=10&&(u|=1<<1-O),O!==1&&(f=this._nextSet(this._row,b.end),f=this._nextUnset(this._row,f))}if(_.length!==2||parseInt(_.join(""))%4!==u)return null;var U=this._findStart();return{code:_.join(""),decodedCodes:g,end:b.end,format:this.FORMAT,startInfo:U,start:U.start}}}]),d}(Qe);function bn(m){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,r=I()(m);if(x){var a=I()(this).constructor;d=Reflect.construct(r,arguments,a)}else d=r.apply(this,arguments);return A()(this,d)}}var wn=[24,20,18,17,12,6,3,10,9,5],fr=function(m){P()(d,m);var x=bn(d);function d(){var r;te()(this,d);for(var a=arguments.length,u=new Array(a),f=0;f<a;f++)u[f]=arguments[f];return r=x.call.apply(x,[this].concat(u)),M()(E()(r),"FORMAT","ean_5"),r}return B()(d,[{key:"decode",value:function(r,a){if(a===void 0)return null;r&&(this._row=r);for(var u=0,f=a,v=this._row.length,_=null,g=[],b=[],O=0;O<5&&f<v;O++){if(!(_=this._decodeCode(f)))return null;b.push(_),g.push(_.code%10),_.code>=10&&(u|=1<<4-O),O!==4&&(f=this._nextSet(this._row,_.end),f=this._nextUnset(this._row,f))}if(g.length!==5||function(Y){for(var G=Y.length,Z=0,he=G-2;he>=0;he-=2)Z+=Y[he];Z*=3;for(var ge=G-1;ge>=0;ge-=2)Z+=Y[ge];return(Z*=3)%10}(g)!==function(Y){for(var G=0;G<10;G++)if(Y===wn[G])return G;return null}(u))return null;var U=this._findStart();return{code:g.join(""),decodedCodes:b,end:_.end,format:this.FORMAT,startInfo:U,start:U.start}}}]),d}(Qe);function Ke(m){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,r=I()(m);if(x){var a=I()(this).constructor;d=Reflect.construct(r,arguments,a)}else d=r.apply(this,arguments);return A()(this,d)}}var dr=function(m){P()(d,m);var x=Ke(d);function d(){var r;te()(this,d);for(var a=arguments.length,u=new Array(a),f=0;f<a;f++)u[f]=arguments[f];return r=x.call.apply(x,[this].concat(u)),M()(E()(r),"FORMAT","ean_8"),r}return B()(d,[{key:"_decodePayload",value:function(r,a,u){for(var f=r,v=0;v<4;v++){if(!(f=this._decodeCode(f.end,10)))return null;a.push(f.code),u.push(f)}if((f=this._findPattern(ur,f.end,!0,!1))===null)return null;u.push(f);for(var _=0;_<4;_++){if(!(f=this._decodeCode(f.end,10)))return null;u.push(f),a.push(f.code)}return f}}]),d}(Qe);function Cn(m){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,r=I()(m);if(x){var a=I()(this).constructor;d=Reflect.construct(r,arguments,a)}else d=r.apply(this,arguments);return A()(this,d)}}var pr=function(m){P()(d,m);var x=Cn(d);function d(r){var a;return te()(this,d),a=x.call(this,h()({normalizeBarSpaceWidth:!1},r)),M()(E()(a),"barSpaceRatio",[1,1]),M()(E()(a),"SINGLE_CODE_ERROR",.78),M()(E()(a),"AVG_CODE_ERROR",.38),M()(E()(a),"START_PATTERN",[1,1,1,1]),M()(E()(a),"STOP_PATTERN",[1,1,3]),M()(E()(a),"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),M()(E()(a),"MAX_CORRECTION_FACTOR",5),M()(E()(a),"FORMAT","i2of5"),r.normalizeBarSpaceWidth&&(a.SINGLE_CODE_ERROR=.38,a.AVG_CODE_ERROR=.09),a.config=r,A()(a,E()(a))}return B()(d,[{key:"_matchPattern",value:function(r,a){if(this.config.normalizeBarSpaceWidth){for(var u=[0,0],f=[0,0],v=[0,0],_=this.MAX_CORRECTION_FACTOR,g=1/_,b=0;b<r.length;b++)u[b%2]+=r[b],f[b%2]+=a[b];v[0]=f[0]/u[0],v[1]=f[1]/u[1],v[0]=Math.max(Math.min(v[0],_),g),v[1]=Math.max(Math.min(v[1],_),g),this.barSpaceRatio=v;for(var O=0;O<r.length;O++)r[O]*=this.barSpaceRatio[O%2]}return Te()(I()(d.prototype),"_matchPattern",this).call(this,r,a)}},{key:"_findPattern",value:function(r,a){var u=arguments.length>2&&arguments[2]!==void 0&&arguments[2],f=arguments.length>3&&arguments[3]!==void 0&&arguments[3],v=new Array(r.length).fill(0),_=0,g={error:Number.MAX_VALUE,start:0,end:0},b=this.AVG_CODE_ERROR;u=u||!1,f=f||!1,a||(a=this._nextSet(this._row));for(var O=a;O<this._row.length;O++)if(this._row[O]^(u?1:0))v[_]++;else{if(_===v.length-1){var U=v.reduce(function(Z,he){return Z+he},0),Y=this._matchPattern(v,r);if(Y<b)return g.error=Y,g.start=O-U,g.end=O,g;if(!f)return null;for(var G=0;G<v.length-2;G++)v[G]=v[G+2];v[v.length-2]=0,v[v.length-1]=0,_--}else _++;v[_]=1,u=!u}return null}},{key:"_findStart",value:function(){for(var r=0,a=this._nextSet(this._row),u=null,f=1;!u;){if(!(u=this._findPattern(this.START_PATTERN,a,!1,!0)))return null;if(f=Math.floor((u.end-u.start)/4),(r=u.start-10*f)>=0&&this._matchRange(r,u.start,0))return u;a=u.end,u=null}return null}},{key:"_verifyTrailingWhitespace",value:function(r){var a=r.end+(r.end-r.start)/2;return a<this._row.length&&this._matchRange(r.end,a,0)?r:null}},{key:"_findEnd",value:function(){this._row.reverse();var r=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),r===null)return null;var a=r.start;return r.start=this._row.length-r.end,r.end=this._row.length-a,r!==null?this._verifyTrailingWhitespace(r):null}},{key:"_decodePair",value:function(r){for(var a=[],u=0;u<r.length;u++){var f=this._decodeCode(r[u]);if(!f)return null;a.push(f)}return a}},{key:"_decodeCode",value:function(r){for(var a=this.AVG_CODE_ERROR,u={error:Number.MAX_VALUE,code:-1,start:0,end:0},f=0;f<this.CODE_PATTERN.length;f++){var v=this._matchPattern(r,this.CODE_PATTERN[f]);v<u.error&&(u.code=f,u.error=v)}return u.error<a?u:null}},{key:"_decodePayload",value:function(r,a,u){for(var f=0,v=r.length,_=[[0,0,0,0,0],[0,0,0,0,0]],g=null;f<v;){for(var b=0;b<5;b++)_[0][b]=r[f]*this.barSpaceRatio[0],_[1][b]=r[f+1]*this.barSpaceRatio[1],f+=2;if(!(g=this._decodePair(_)))return null;for(var O=0;O<g.length;O++)a.push(g[O].code+""),u.push(g[O])}return g}},{key:"_verifyCounterLength",value:function(r){return r.length%10==0}},{key:"decode",value:function(r,a){var u=new Array,f=new Array,v=this._findStart();if(!v)return null;f.push(v);var _=this._findEnd();if(!_)return null;var g=this._fillCounters(v.end,_.start,!1);return this._verifyCounterLength(g)&&this._decodePayload(g,u,f)?u.length%2!=0||u.length<6?null:(f.push(_),{code:u.join(""),start:v.start,end:_.end,startInfo:v,decodedCodes:f,format:this.FORMAT}):null}}]),d}(J);function hr(m,x){var d=Object.keys(m);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(m);x&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(m,a).enumerable})),d.push.apply(d,r)}return d}function Sn(m){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,r=I()(m);if(x){var a=I()(this).constructor;d=Reflect.construct(r,arguments,a)}else d=r.apply(this,arguments);return A()(this,d)}}var mr=function(m){P()(d,m);var x=Sn(d);function d(){var r;te()(this,d);for(var a=arguments.length,u=new Array(a),f=0;f<a;f++)u[f]=arguments[f];return r=x.call.apply(x,[this].concat(u)),M()(E()(r),"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),M()(E()(r),"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),M()(E()(r),"FORMAT","upc_e"),r}return B()(d,[{key:"_decodePayload",value:function(r,a,u){for(var f=function(g){for(var b=1;b<arguments.length;b++){var O=arguments[b]!=null?arguments[b]:{};b%2?hr(Object(O),!0).forEach(function(U){M()(g,U,O[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(O)):hr(Object(O)).forEach(function(U){Object.defineProperty(g,U,Object.getOwnPropertyDescriptor(O,U))})}return g}({},r),v=0,_=0;_<6;_++){if(!(f=this._decodeCode(f.end)))return null;f.code>=10&&(f.code=f.code-10,v|=1<<5-_),a.push(f.code),u.push(f)}return this._determineParity(v,a)?f:null}},{key:"_determineParity",value:function(r,a){for(var u=0;u<this.CODE_FREQUENCY.length;u++)for(var f=0;f<this.CODE_FREQUENCY[u].length;f++)if(r===this.CODE_FREQUENCY[u][f])return a.unshift(u),a.push(f),!0;return!1}},{key:"_convertToUPCA",value:function(r){var a=[r[0]],u=r[r.length-2];return(a=u<=2?a.concat(r.slice(1,3)).concat([u,0,0,0,0]).concat(r.slice(3,6)):u===3?a.concat(r.slice(1,4)).concat([0,0,0,0,0]).concat(r.slice(4,6)):u===4?a.concat(r.slice(1,5)).concat([0,0,0,0,0,r[5]]):a.concat(r.slice(1,6)).concat([0,0,0,0,u])).push(r[r.length-1]),a}},{key:"_checksum",value:function(r){return Te()(I()(d.prototype),"_checksum",this).call(this,this._convertToUPCA(r))}},{key:"_findEnd",value:function(r,a){return Te()(I()(d.prototype),"_findEnd",this).call(this,r,!0)}},{key:"_verifyTrailingWhitespace",value:function(r){var a=r.end+(r.end-r.start)/2;return a<this._row.length&&this._matchRange(r.end,a,0)?r:null}}]),d}(Qe);function On(m){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,r=I()(m);if(x){var a=I()(this).constructor;d=Reflect.construct(r,arguments,a)}else d=r.apply(this,arguments);return A()(this,d)}}var vr=function(m){P()(d,m);var x=On(d);function d(){var r;te()(this,d);for(var a=arguments.length,u=new Array(a),f=0;f<a;f++)u[f]=arguments[f];return r=x.call.apply(x,[this].concat(u)),M()(E()(r),"FORMAT","upc_a"),r}return B()(d,[{key:"decode",value:function(r,a){var u=Qe.prototype.decode.call(this);return u&&u.code&&u.code.length===13&&u.code.charAt(0)==="0"?(u.code=u.code.substring(1),u):null}}]),d}(Qe),at={},mt={UP:1,DOWN:-1};at.getBarcodeLine=function(m,x,d){var r,a,u,f,v,_=0|x.x,g=0|x.y,b=0|d.x,O=0|d.y,U=Math.abs(O-g)>Math.abs(b-_),Y=[],G=m.data,Z=m.size.x,he=255,ge=0;function me(lt,Gn){v=G[Gn*Z+lt],he=v<he?v:he,ge=v>ge?v:ge,Y.push(v)}U&&(u=_,_=g,g=u,u=b,b=O,O=u),_>b&&(u=_,_=b,b=u,u=g,g=O,O=u);var be=b-_,Re=Math.abs(O-g);r=be/2|0,a=g;var Ne=g<O?1:-1;for(f=_;f<b;f++)U?me(a,f):me(f,a),(r-=Re)<0&&(a+=Ne,r+=be);return{line:Y,min:he,max:ge}},at.toBinaryLine=function(m){var x,d,r,a,u,f,v=m.min,_=m.max,g=m.line,b=v+(_-v)/2,O=[],U=(_-v)/12,Y=-U;for(r=g[0]>b?mt.UP:mt.DOWN,O.push({pos:0,val:g[0]}),u=0;u<g.length-2;u++)r!==(a=(x=g[u+1]-g[u])+(d=g[u+2]-g[u+1])<Y&&g[u+1]<1.5*b?mt.DOWN:x+d>U&&g[u+1]>.5*b?mt.UP:r)&&(O.push({pos:u,val:g[u]}),r=a);for(O.push({pos:g.length,val:g[g.length-1]}),f=O[0].pos;f<O[1].pos;f++)g[f]=g[f]>b?0:1;for(u=1;u<O.length-1;u++)for(U=O[u+1].val>O[u].val?O[u].val+(O[u+1].val-O[u].val)/3*2|0:O[u+1].val+(O[u].val-O[u+1].val)/3|0,f=O[u].pos;f<O[u+1].pos;f++)g[f]=g[f]>U?0:1;return{line:g,threshold:U}},at.debug={printFrequency:function(m,x){var d,r=x.getContext("2d");for(x.width=m.length,x.height=256,r.beginPath(),r.strokeStyle="blue",d=0;d<m.length;d++)r.moveTo(d,255),r.lineTo(d,255-m[d]);r.stroke(),r.closePath()},printPattern:function(m,x){var d,r=x.getContext("2d");for(x.width=m.length,r.fillColor="black",d=0;d<m.length;d++)m[d]===1&&r.fillRect(d,0,1,100)}};var Dt=at;function Rn(m,x){var d=typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(!d){if(Array.isArray(m)||(d=function(_,g){if(_){if(typeof _=="string")return gr(_,g);var b=Object.prototype.toString.call(_).slice(8,-1);if(b==="Object"&&_.constructor&&(b=_.constructor.name),b==="Map"||b==="Set")return Array.from(_);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return gr(_,g)}}(m))||x&&m&&typeof m.length=="number"){d&&(m=d);var r=0,a=function(){};return{s:a,n:function(){return r>=m.length?{done:!0}:{done:!1,value:m[r++]}},e:function(_){throw _},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,f=!0,v=!1;return{s:function(){d=d.call(m)},n:function(){var _=d.next();return f=_.done,_},e:function(_){v=!0,u=_},f:function(){try{f||d.return==null||d.return()}finally{if(v)throw u}}}}function gr(m,x){(x==null||x>m.length)&&(x=m.length);for(var d=0,r=new Array(x);d<x;d++)r[d]=m[d];return r}var ut={code_128_reader:Ce,ean_reader:Qe,ean_5_reader:fr,ean_2_reader:lr,ean_8_reader:dr,code_39_reader:ht,code_39_vin_reader:Pt,codabar_reader:ve,upc_reader:vr,upc_e_reader:mr,i2of5_reader:pr,"2of5_reader":z,code_93_reader:ir,code_32_reader:er},kt={registerReader:function(m,x){ut[m]=x},create:function(m,x){var d={frequency:null,pattern:null,overlay:null},r=[];function a(){m.readers.forEach(function(g){var b,O={},U=[];s()(g)==="object"?(b=g.format,O=g.config):typeof g=="string"&&(b=g),O.supplements&&(U=O.supplements.map(function(G){return new ut[G]}));try{var Y=new ut[b](O,U);r.push(Y)}catch(G){throw console.error("* Error constructing reader ",b,G),G}})}function u(g){var b,O=null,U=Dt.getBarcodeLine(x,g[0],g[1]);for(Dt.toBinaryLine(U),b=0;b<r.length&&O===null;b++)O=r[b].decodePattern(U.line);return O===null?null:{codeResult:O,barcodeLine:U}}function f(g){return v.apply(this,arguments)}function v(){return(v=R()(D.a.mark(function g(b){var O,U,Y,G;return D.a.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:O=null,U=Rn(r),Z.prev=2,U.s();case 4:if((Y=U.n()).done){Z.next=14;break}if(!(G=Y.value).decodeImage){Z.next=12;break}return Z.next=9,G.decodeImage(b);case 9:if(!(O=Z.sent)){Z.next=12;break}return Z.abrupt("break",14);case 12:Z.next=4;break;case 14:Z.next=19;break;case 16:Z.prev=16,Z.t0=Z.catch(2),U.e(Z.t0);case 19:return Z.prev=19,U.f(),Z.finish(19);case 22:return Z.abrupt("return",O);case 23:case"end":return Z.stop()}},g,null,[[2,16,19,22]])}))).apply(this,arguments)}function _(g){var b,O;d.overlay;var U=function(G){return Math.sqrt(Math.pow(Math.abs(G[1].y-G[0].y),2)+Math.pow(Math.abs(G[1].x-G[0].x),2))}(b=function(G){return[{x:(G[1][0]-G[0][0])/2+G[0][0],y:(G[1][1]-G[0][1])/2+G[0][1]},{x:(G[3][0]-G[2][0])/2+G[2][0],y:(G[3][1]-G[2][1])/2+G[2][1]}]}(g)),Y=Math.atan2(b[1].y-b[0].y,b[1].x-b[0].x);return(b=function(G,Z,he){function ge(me){var be=me*Math.sin(Z),Re=me*Math.cos(Z);G[0].y-=be,G[0].x-=Re,G[1].y+=be,G[1].x+=Re}for(ge(he);he>1&&(!x.inImageWithBorder(G[0])||!x.inImageWithBorder(G[1]));)ge(-(he-=Math.ceil(he/2)));return G}(b,Y,Math.floor(.1*U)))===null?null:((O=u(b))===null&&(O=function(G,Z,he){var ge,me,be,Re=Math.sqrt(Math.pow(G[1][0]-G[0][0],2)+Math.pow(G[1][1]-G[0][1],2)),Ne=null,lt=Math.sin(he),Gn=Math.cos(he);for(ge=1;ge<16&&Ne===null;ge++)be={y:(me=Re/16*ge*(ge%2==0?-1:1))*lt,x:me*Gn},Z[0].y+=be.x,Z[0].x-=be.y,Z[1].y+=be.x,Z[1].x-=be.y,Ne=u(Z);return Ne}(g,b,Y)),O===null?null:{codeResult:O.codeResult,line:b,angle:Y,pattern:O.barcodeLine.line,threshold:O.barcodeLine.threshold})}return a(),{decodeFromBoundingBox:function(g){return _(g)},decodeFromBoundingBoxes:function(g){var b,O,U=[],Y=m.multiple;for(b=0;b<g.length;b++){var G=g[b];if((O=_(G)||{}).box=G,Y)U.push(O);else if(O.codeResult)return O}return{barcodes:U}},decodeFromImage:function(g){return R()(D.a.mark(function b(){var O;return D.a.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,f(g);case 2:return O=U.sent,U.abrupt("return",O);case 4:case"end":return U.stop()}},b)}))()},registerReader:function(g,b){if(ut[g])throw new Error("cannot register existing reader",g);ut[g]=b},setReaders:function(g){m.readers=g,r.length=0,a()}}}},Xe=function(){var m={};function x(a){return m[a]||(m[a]={subscribers:[]}),m[a]}function d(a,u){a.async?setTimeout(function(){a.callback(u)},4):a.callback(u)}function r(a,u,f){var v;if(typeof u=="function")v={callback:u,async:f};else if(!(v=u).callback)throw new Error("Callback was not specified on options");x(a).subscribers.push(v)}return{subscribe:function(a,u,f){return r(a,u,f)},publish:function(a,u){var f=x(a),v=f.subscribers;v.filter(function(_){return!!_.once}).forEach(function(_){d(_,u)}),f.subscribers=v.filter(function(_){return!_.once}),f.subscribers.forEach(function(_){d(_,u)})},once:function(a,u){var f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];r(a,{callback:u,async:f,once:!0})},unsubscribe:function(a,u){if(a){var f=x(a);f.subscribers=f&&u?f.subscribers.filter(function(v){return v.callback!==u}):[]}else m={}}}}(),yr=e(63),_r=e.n(yr),Mn=e(64);function En(m){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,r=I()(m);if(x){var a=I()(this).constructor;d=Reflect.construct(r,arguments,a)}else d=r.apply(this,arguments);return A()(this,d)}}var nt,jt=function(m){P()(d,m);var x=En(d);function d(r,a){var u;return te()(this,d),u=x.call(this,r),M()(E()(u),"code",void 0),u.code=a,Object.setPrototypeOf(E()(u),d.prototype),u}return B()(d)}(e.n(Mn)()(Error)),xr="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function Tn(){try{return navigator.mediaDevices.enumerateDevices()}catch{var m=new jt("enumerateDevices is not defined. ".concat(xr),-1);return Promise.reject(m)}}function Pn(m){try{return navigator.mediaDevices.getUserMedia(m)}catch{var x=new jt("getUserMedia is not defined. ".concat(xr),-1);return Promise.reject(x)}}function br(m){return new Promise(function(x,d){var r=10;(function a(){r>0?m.videoWidth>10&&m.videoHeight>10?x():window.setTimeout(a,500):d(new jt("Unable to play video stream. Is webcam working?",-1)),r--})()})}function wr(m,x){return zt.apply(this,arguments)}function zt(){return(zt=R()(D.a.mark(function m(x,d){var r;return D.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Pn(d);case 2:if(r=a.sent,nt=r,!x){a.next=11;break}return x.setAttribute("autoplay","true"),x.setAttribute("muted","true"),x.setAttribute("playsinline","true"),x.srcObject=r,x.addEventListener("loadedmetadata",function(){x.play().catch(function(u){console.warn("* Error while trying to play video stream:",u)})}),a.abrupt("return",br(x));case 11:return a.abrupt("return",Promise.resolve());case 12:case"end":return a.stop()}},m)}))).apply(this,arguments)}function An(m){var x=_r()(m,["width","height","facingMode","aspectRatio","deviceId"]);return m.minAspectRatio!==void 0&&m.minAspectRatio>0&&(x.aspectRatio=m.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),m.facing!==void 0&&(x.facingMode=m.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),x}function In(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=An(m);return x&&x.deviceId&&x.facingMode&&delete x.facingMode,Promise.resolve({audio:!1,video:x})}function Cr(){return(Cr=R()(D.a.mark(function m(){var x;return D.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Tn();case 2:return x=d.sent,d.abrupt("return",x.filter(function(r){return r.kind==="videoinput"}));case 4:case"end":return d.stop()}},m)}))).apply(this,arguments)}function ct(){if(!nt)return null;var m=nt.getVideoTracks();return m&&m!=null&&m.length?m[0]:null}var st={requestedVideoElement:null,request:function(m,x){return R()(D.a.mark(function d(){var r;return D.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return st.requestedVideoElement=m,a.next=3,In(x);case 3:return r=a.sent,a.abrupt("return",wr(m,r));case 5:case"end":return a.stop()}},d)}))()},release:function(){var m=nt&&nt.getVideoTracks();return st.requestedVideoElement!==null&&st.requestedVideoElement.pause(),new Promise(function(x){setTimeout(function(){m&&m.length&&m.forEach(function(d){return d.stop()}),nt=null,st.requestedVideoElement=null,x()},0)})},enumerateVideoDevices:function(){return Cr.apply(this,arguments)},getActiveStreamLabel:function(){var m=ct();return m?m.label:""},getActiveTrack:ct,disableTorch:function(){return R()(D.a.mark(function m(){var x;return D.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!(x=ct())){d.next=11;break}return d.prev=2,d.next=5,x.applyConstraints({advanced:[{torch:!1}]});case 5:d.next=11;break;case 7:throw d.prev=7,d.t0=d.catch(2),d.t0 instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),d.t0;case 11:case"end":return d.stop()}},m,null,[[2,7]])}))()},enableTorch:function(){return R()(D.a.mark(function m(){var x;return D.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!(x=ct())){d.next=11;break}return d.prev=2,d.next=5,x.applyConstraints({advanced:[{torch:!0}]});case 5:d.next=11;break;case 7:throw d.prev=7,d.t0=d.catch(2),d.t0 instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),d.t0;case 11:case"end":return d.stop()}},m,null,[[2,7]])}))()}},vt=st,Sr={create:function(m){var x,d=document.createElement("canvas"),r=d.getContext("2d",{willReadFrequently:!!m.willReadFrequently}),a=[],u=(x=m.capacity)!==null&&x!==void 0?x:20,f=m.capture===!0;function v(_){return!!u&&_&&!function(g,b){return b&&b.some(function(O){return Object.keys(O).every(function(U){return O[U]===g[U]})})}(_,m.blacklist)&&function(g,b){return typeof b!="function"||b(g)}(_,m.filter)}return{addResult:function(_,g,b){var O={};v(b)&&(u--,O.codeResult=b,f&&(d.width=g.x,d.height=g.y,H.a.drawImage(_,g,r),O.frame=d.toDataURL()),a.push(O))},getResults:function(){return a}}}},Dn={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},qe=e(5),gt=e(10),Or=Math.PI/180,kn={create:function(m,x){var d,r={},a=m.getConfig(),u=(Object(gt.h)(m.getRealWidth(),m.getRealHeight()),m.getCanvasSize()),f=Object(gt.h)(m.getWidth(),m.getHeight()),v=m.getTopRight(),_=v.x,g=v.y,b=null,O=null,U=a.willReadFrequently;return(d=x||document.createElement("canvas")).width=u.x,d.height=u.y,console.warn("*** frame_grabber_browser: willReadFrequently=",U,"canvas=",d),b=d.getContext("2d",{willReadFrequently:!!U}),O=new Uint8Array(f.x*f.y),r.attachData=function(Y){O=Y},r.getData=function(){return O},r.grab=function(){var Y,G=a.halfSample,Z=m.getFrame(),he=Z,ge=0;if(he){if(function(me,be){me.width!==be.x&&(me.width=be.x),me.height!==be.y&&(me.height=be.y)}(d,u),a.type==="ImageStream"&&(he=Z.img,Z.tags&&Z.tags.orientation))switch(Z.tags.orientation){case 6:ge=90*Or;break;case 8:ge=-90*Or}return ge!==0?(b.translate(u.x/2,u.y/2),b.rotate(ge),b.drawImage(he,-u.y/2,-u.x/2,u.y,u.x),b.rotate(-ge),b.translate(-u.x/2,-u.y/2)):b.drawImage(he,0,0,u.x,u.y),Y=b.getImageData(_,g,f.x,f.y).data,G?Object(gt.e)(Y,f,O):Object(gt.c)(Y,O,a),!0}return!1},r.getSize=function(){return f},r}},jn=kn,yt={274:"orientation"},Rr=Object.keys(yt).map(function(m){return yt[m]});function zn(m){return new Promise(function(x){var d=new FileReader;d.onload=function(r){return x(r.target.result)},d.readAsArrayBuffer(m)})}function Ln(m){return new Promise(function(x,d){var r=new XMLHttpRequest;r.open("GET",m,!0),r.responseType="blob",r.onreadystatechange=function(){r.readyState!==XMLHttpRequest.DONE||r.status!==200&&r.status!==0||x(this.response)},r.onerror=d,r.send()})}function Fn(m){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rr,d=new DataView(m),r=m.byteLength,a=x.reduce(function(f,v){var _=Object.keys(yt).filter(function(g){return yt[g]===v})[0];return _&&(f[_]=v),f},{}),u=2;if(d.getUint8(0)!==255||d.getUint8(1)!==216)return!1;for(;u<r;){if(d.getUint8(u)!==255)return!1;if(d.getUint8(u+1)===225)return Nn(d,u+4,a);u+=2+d.getUint16(u+2)}return!1}function Nn(m,x,d){if(function(f,v,_){for(var g="",b=v;b<v+_;b++)g+=String.fromCharCode(f.getUint8(b));return g}(m,x,4)!=="Exif")return!1;var r,a=x+6;if(m.getUint16(a)===18761)r=!1;else{if(m.getUint16(a)!==19789)return!1;r=!0}if(m.getUint16(a+2,!r)!==42)return!1;var u=m.getUint32(a+4,!r);return!(u<8)&&function(f,v,_,g,b){for(var O=f.getUint16(_,!b),U={},Y=0;Y<O;Y++){var G=_+12*Y+2,Z=g[f.getUint16(G,!b)];Z&&(U[Z]=Bn(f,G,v,_,b))}return U}(m,a,a+u,d,r)}function Bn(m,x,d,r,a){var u=m.getUint16(x+2,!a),f=m.getUint32(x+4,!a);switch(u){case 3:if(f===1)return m.getUint16(x+8,!a)}return null}var Mr={};function Un(m,x){m.onload=function(){x.loaded(this)}}Mr.load=function(m,x,d,r,a){var u,f,v,_=new Array(r),g=new Array(_.length);if(a===!1)_[0]=m;else for(u=0;u<_.length;u++)v=d+u,_[u]="".concat(m,"image-").concat("00".concat(v).slice(-3),".jpg");for(g.notLoaded=[],g.addImage=function(b){g.notLoaded.push(b)},g.loaded=function(b){for(var O=g.notLoaded,U=0;U<O.length;U++)if(O[U]===b){O.splice(U,1);for(var Y=0;Y<_.length;Y++){var G=_[Y].substr(_[Y].lastIndexOf("/"));if(b.src.lastIndexOf(G)!==-1){g[Y]={img:b};break}}break}O.length===0&&(a===!1?function(Z){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rr;return/^blob:/i.test(Z)?Ln(Z).then(zn).then(function(ge){return Fn(ge,he)}):Promise.resolve(null)}(m,["orientation"]).then(function(Z){g[0].tags=Z,x(g)}).catch(function(Z){console.log(Z),x(g)}):x(g))},u=0;u<_.length;u++)f=new Image,g.addImage(f),Un(f,g),f.src=_[u]};var Wn=Mr,Er={createVideoStream:function(m){console.warn("**** InputStreamBrowser createVideoStream");var x,d,r=null,a=["canrecord","ended"],u={},f={x:0,y:0,type:"Point"},v={x:0,y:0,type:"XYSize"},_={getRealWidth:function(){return m.videoWidth},getRealHeight:function(){return m.videoHeight},getWidth:function(){return x},getHeight:function(){return d},setWidth:function(g){x=g},setHeight:function(g){d=g},setInputStream:function(g){r=g,this.setAttribute("src",g.src!==void 0?g.src:"")},ended:function(){return m.ended},getConfig:function(){return r},setAttribute:function(g,b){m&&m.setAttribute(g,b)},pause:function(){m.pause()},play:function(){m.play()},setCurrentTime:function(g){var b;((b=r)===null||b===void 0?void 0:b.type)!=="LiveStream"&&this.setAttribute("currentTime",g.toString())},addEventListener:function(g,b,O){a.indexOf(g)!==-1?(u[g]||(u[g]=[]),u[g].push(b)):m.addEventListener(g,b,O)},clearEventHandlers:function(){a.forEach(function(g){var b=u[g];b&&b.length>0&&b.forEach(function(O){m.removeEventListener(g,O)})})},trigger:function(g,b){var O,U,Y,G,Z,he=u[g];if(g==="canrecord"&&(G=m.videoWidth,Z=m.videoHeight,x=(U=r)!==null&&U!==void 0&&U.size?G/Z>1?r.size:Math.floor(G/Z*r.size):G,d=(Y=r)!==null&&Y!==void 0&&Y.size?G/Z>1?Math.floor(Z/G*r.size):r.size:Z,v.x=x,v.y=d),he&&he.length>0)for(O=0;O<he.length;O++)he[O].apply(_,b)},setTopRight:function(g){f.x=g.x,f.y=g.y},getTopRight:function(){return f},setCanvasSize:function(g){v.x=g.x,v.y=g.y},getCanvasSize:function(){return v},getFrame:function(){return m}};return _},createLiveStream:function(m){console.warn("**** InputStreamBrowser createLiveStream"),m&&m.setAttribute("autoplay","true");var x=Er.createVideoStream(m);return x.ended=function(){return!1},x},createImageStream:function(){var m,x,d=null,r=0,a=0,u=0,f=!0,v=!1,_=null,g=0,b=null,O=!1,U=["canrecord","ended"],Y={},G={x:0,y:0,type:"Point"},Z={x:0,y:0,type:"XYSize"};function he(me,be){var Re,Ne=Y[me];if(Ne&&Ne.length>0)for(Re=0;Re<Ne.length;Re++)Ne[Re].apply(ge,be)}var ge={trigger:he,getWidth:function(){return m},getHeight:function(){return x},setWidth:function(me){m=me},setHeight:function(me){x=me},getRealWidth:function(){return r},getRealHeight:function(){return a},setInputStream:function(me){var be;d=me,me.sequence===!1?(b=me.src,g=1):(b=me.src,g=me.length),v=!1,Wn.load(b,function(Re){var Ne,lt;if(_=Re,Re[0].tags&&Re[0].tags.orientation)switch(Re[0].tags.orientation){case 6:case 8:r=Re[0].img.height,a=Re[0].img.width;break;default:r=Re[0].img.width,a=Re[0].img.height}else r=Re[0].img.width,a=Re[0].img.height;m=(Ne=d)!==null&&Ne!==void 0&&Ne.size?r/a>1?d.size:Math.floor(r/a*d.size):r,x=(lt=d)!==null&&lt!==void 0&&lt.size?r/a>1?Math.floor(a/r*d.size):d.size:a,Z.x=m,Z.y=x,v=!0,u=0,setTimeout(function(){he("canrecord",[])},0)},1,g,(be=d)===null||be===void 0?void 0:be.sequence)},ended:function(){return O},setAttribute:function(){},getConfig:function(){return d},pause:function(){f=!0},play:function(){f=!1},setCurrentTime:function(me){u=me},addEventListener:function(me,be){U.indexOf(me)!==-1&&(Y[me]||(Y[me]=[]),Y[me].push(be))},clearEventHandlers:function(){Object.keys(Y).forEach(function(me){return delete Y[me]})},setTopRight:function(me){G.x=me.x,G.y=me.y},getTopRight:function(){return G},setCanvasSize:function(me){Z.x=me.x,Z.y=me.y},getCanvasSize:function(){return Z},getFrame:function(){var me,be;return v?(f||(me=(be=_)===null||be===void 0?void 0:be[u],u<g-1?u++:setTimeout(function(){O=!0,he("ended",[])},0)),me):null}};return ge}},qn=Er,Lt=e(23),Vn=B()(function m(){te()(this,m),M()(this,"config",void 0),M()(this,"inputStream",void 0),M()(this,"framegrabber",void 0),M()(this,"inputImageWrapper",void 0),M()(this,"stopped",!1),M()(this,"boxSize",void 0),M()(this,"resultCollector",void 0),M()(this,"decoder",void 0),M()(this,"workerPool",[]),M()(this,"onUIThread",!0),M()(this,"canvasContainer",new c)}),Tr=B()(function m(){te()(this,m),M()(this,"image",void 0),M()(this,"overlay",void 0)}),c=B()(function m(){te()(this,m),M()(this,"ctx",void 0),M()(this,"dom",void 0),this.ctx=new Tr,this.dom=new Tr});function p(m){if(typeof document>"u")return null;if(m instanceof HTMLElement&&m.nodeName&&m.nodeType===1)return m;var x=typeof m=="string"?m:"#interactive.viewport";return document.querySelector(x)}function y(m,x,d){var r=function(u,f){var v=document.querySelector(u);return v||((v=document.createElement("canvas")).className=f),v}(m,x);console.warn("* initCanvas getCanvasAndContext");var a=r.getContext("2d",{willReadFrequently:d.willReadFrequently});return{canvas:r,context:a}}function T(m){var x,d,r,a,u,f,v=p(m==null||(x=m.config)===null||x===void 0||(d=x.inputStream)===null||d===void 0?void 0:d.target),_=m==null||(r=m.config)===null||r===void 0||(a=r.inputStream)===null||a===void 0?void 0:a.type;if(!_)return null;var g=function(O,U){var Y=U.willReadFrequently;if(typeof document<"u"){var G=y("canvas.imgBuffer","imgBuffer",{willReadFrequently:Y}),Z=y("canvas.drawingBuffer","drawingBuffer",{willReadFrequently:Y});return G.canvas.width=Z.canvas.width=O.x,G.canvas.height=Z.canvas.height=O.y,{dom:{image:G.canvas,overlay:Z.canvas},ctx:{image:G.context,overlay:Z.context}}}return null}(m.inputStream.getCanvasSize(),{willReadFrequently:!(m==null||(u=m.config)===null||u===void 0||(f=u.inputStream)===null||f===void 0||!f.willReadFrequently)});if(!g)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var b=g.dom;return typeof document<"u"&&v&&(_!=="ImageStream"||v.contains(b.image)||v.appendChild(b.image),v.contains(b.overlay)||v.appendChild(b.overlay)),g}function j(m,x){var d=Object.keys(m);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(m);x&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(m,a).enumerable})),d.push.apply(d,r)}return d}function q(m){for(var x=1;x<arguments.length;x++){var d=arguments[x]!=null?arguments[x]:{};x%2?j(Object(d),!0).forEach(function(r){M()(m,r,d[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(d)):j(Object(d)).forEach(function(r){Object.defineProperty(m,r,Object.getOwnPropertyDescriptor(d,r))})}return m}qe.a.setMatrixArrayType(Array);var oe=[];function le(m){return q(q({},m),{},{inputStream:q(q({},m.inputStream),{},{target:null})})}function ye(m){if(m){var x=m().default;if(!x)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var d;function r(u){self.postMessage({event:"processed",imageData:d.data,result:u},[d.data.buffer])}function a(){self.postMessage({event:"initialized",imageData:d.data},[d.data.buffer])}self.onmessage=function(u){if(u.data.cmd==="init"){var f=u.data.config;f.numOfWorkers=0,d=new x.ImageWrapper({x:u.data.size.x,y:u.data.size.y},new Uint8Array(u.data.imageData)),x.init(f,a,d),x.onProcessed(r)}else u.data.cmd==="process"?(d.data=new Uint8Array(u.data.imageData),x.start()):u.data.cmd==="setReaders"?x.setReaders(u.data.readers):u.data.cmd==="registerReader"&&x.registerReader(u.data.name,u.data.reader)}}function Ee(m,x,d){var r,a,u=(typeof __factorySource__<"u"&&(a=__factorySource__),r=new Blob(["("+ye.toString()+")("+a+");"],{type:"text/javascript"}),window.URL.createObjectURL(r)),f={worker:new Worker(u),imageData:new Uint8Array(x.getWidth()*x.getHeight()),busy:!0};f.worker.onmessage=function(v){v.data.event==="initialized"?(URL.revokeObjectURL(u),f.busy=!1,f.imageData=new Uint8Array(v.data.imageData),d(f)):v.data.event==="processed"?(f.imageData=new Uint8Array(v.data.imageData),f.busy=!1,typeof publishResult<"u"&&publishResult(v.data.result,f.imageData)):v.data.event},f.worker.postMessage({cmd:"init",size:{x:x.getWidth(),y:x.getHeight()},imageData:f.imageData,config:le(m)},[f.imageData.buffer])}function De(m,x,d,r){var a=m-oe.length;if(a===0&&r)r();else if(a<0)oe.slice(a).forEach(function(v){v.worker.terminate()}),oe=oe.slice(0,a),r&&r();else{var u=function(v){oe.push(v),oe.length>=m&&r&&r()};if(x)for(var f=0;f<a;f++)Ee(x,d,u)}}function Ve(m,x,d){for(var r=m.length;r--;)m[r][0]+=x,m[r][1]+=d}qe.a.setMatrixArrayType(Array);var Ge=function(){function m(){var r=this;te()(this,m),M()(this,"context",new Vn),M()(this,"canRecord",function(a){var u;r.context.config&&(Lt.a.checkImageConstraints(r.context.inputStream,(u=r.context.config)===null||u===void 0?void 0:u.locator),r.initCanvas(),r.context.framegrabber=jn.create(r.context.inputStream,r.context.canvasContainer.dom.image),r.context.config.numOfWorkers===void 0&&(r.context.config.numOfWorkers=0),De(r.context.config.numOfWorkers,r.context.config,r.context.inputStream,function(){var f;((f=r.context.config)===null||f===void 0?void 0:f.numOfWorkers)===0&&r.initializeData(),r.ready(a)}))}),M()(this,"update",function(){if(r.context.onUIThread){var a,u=(v=r.context.framegrabber,oe.length?!!(_=oe.filter(function(g){return!g.busy})[0])&&(v.attachData(_.imageData),v.grab()&&(_.busy=!0,_.worker.postMessage({cmd:"process",imageData:_.imageData},[_.imageData.buffer])),!0):null);u||(r.context.framegrabber.attachData((a=r.context.inputImageWrapper)===null||a===void 0?void 0:a.data),r.context.framegrabber.grab()&&(u||r.locateAndDecode()))}else{var f;r.context.framegrabber.attachData((f=r.context.inputImageWrapper)===null||f===void 0?void 0:f.data),r.context.framegrabber.grab(),r.locateAndDecode()}var v,_})}var x,d;return B()(m,[{key:"initBuffers",value:function(r){if(this.context.config){var a=function(v,_,g){var b=_||new w.a({x:v.getWidth(),y:v.getHeight(),type:"XYSize"}),O=[qe.c.clone([0,0]),qe.c.clone([0,b.size.y]),qe.c.clone([b.size.x,b.size.y]),qe.c.clone([b.size.x,0])];return Lt.a.init(b,g),{inputImageWrapper:b,boxSize:O}}(this.context.inputStream,r,this.context.config.locator),u=a.inputImageWrapper,f=a.boxSize;this.context.inputImageWrapper=u,this.context.boxSize=f}}},{key:"initializeData",value:function(r){this.context.config&&(this.initBuffers(r),this.context.decoder=kt.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?p(this.context.config.inputStream.target):null}},{key:"ready",value:function(r){this.context.inputStream.play(),r()}},{key:"initCanvas",value:function(){var r=T(this.context);if(r){var a=r.ctx,u=r.dom;this.context.canvasContainer.dom.image=u.image,this.context.canvasContainer.dom.overlay=u.overlay,this.context.canvasContainer.ctx.image=a.image,this.context.canvasContainer.ctx.overlay=a.overlay}}},{key:"initInputStream",value:function(r){if(this.context.config&&this.context.config.inputStream){var a=this.context.config.inputStream,u=a.type,f=a.constraints,v=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"LiveStream",O=arguments.length>1?arguments[1]:void 0,U=arguments.length>2?arguments[2]:void 0;switch(b){case"VideoStream":var Y=document.createElement("video");return{video:Y,inputStream:U.createVideoStream(Y)};case"ImageStream":return{inputStream:U.createImageStream()};case"LiveStream":var G=null;return O&&((G=O.querySelector("video"))||(G=document.createElement("video"),O.appendChild(G))),{video:G,inputStream:U.createLiveStream(G)};default:return console.error("* setupInputStream invalid type ".concat(b)),{video:null,inputStream:null}}}(u,this.getViewPort(),qn),_=v.video,g=v.inputStream;u==="LiveStream"&&_&&vt.request(_,f).then(function(){return g.trigger("canrecord")}).catch(function(b){return r(b)}),g&&(g.setAttribute("preload","auto"),g.setInputStream(this.context.config.inputStream),g.addEventListener("canrecord",this.canRecord.bind(void 0,r))),this.context.inputStream=g}}},{key:"getBoundingBoxes",value:function(){var r;return(r=this.context.config)!==null&&r!==void 0&&r.locate?Lt.a.locate():[[qe.c.clone(this.context.boxSize[0]),qe.c.clone(this.context.boxSize[1]),qe.c.clone(this.context.boxSize[2]),qe.c.clone(this.context.boxSize[3])]]}},{key:"transformResult",value:function(r){var a=this,u=this.context.inputStream.getTopRight(),f=u.x,v=u.y;if((f!==0||v!==0)&&(r.barcodes&&r.barcodes.forEach(function(g){return a.transformResult(g)}),r.line&&r.line.length===2&&function(g,b,O){g[0].x+=b,g[0].y+=O,g[1].x+=b,g[1].y+=O}(r.line,f,v),r.box&&Ve(r.box,f,v),r.boxes&&r.boxes.length>0))for(var _=0;_<r.boxes.length;_++)Ve(r.boxes[_],f,v)}},{key:"addResult",value:function(r,a){var u=this;a&&this.context.resultCollector&&(r.barcodes?r.barcodes.filter(function(f){return f.codeResult}).forEach(function(f){return u.addResult(f,a)}):r.codeResult&&this.context.resultCollector.addResult(a,this.context.inputStream.getCanvasSize(),r.codeResult))}},{key:"hasCodeResult",value:function(r){return!(!r||!(r.barcodes?r.barcodes.some(function(a){return a.codeResult}):r.codeResult))}},{key:"publishResult",value:function(){var r,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,u=arguments.length>1?arguments[1]:void 0,f=a;a&&this.context.onUIThread&&(this.transformResult(a),this.addResult(a,u),f=(a==null||(r=a.barcodes)===null||r===void 0?void 0:r.length)>0?a.barcodes:a),Xe.publish("processed",f),this.hasCodeResult(a)&&Xe.publish("detected",f)}},{key:"locateAndDecode",value:(d=R()(D.a.mark(function r(){var a,u,f,v,_;return D.a.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(!(a=this.getBoundingBoxes())){g.next=12;break}return g.next=4,this.context.decoder.decodeFromBoundingBoxes(a);case 4:if(g.t0=g.sent,g.t0){g.next=7;break}g.t0={};case 7:(f=g.t0).boxes=a,this.publishResult(f,(u=this.context.inputImageWrapper)===null||u===void 0?void 0:u.data),g.next=16;break;case 12:return g.next=14,this.context.decoder.decodeFromImage(this.context.inputImageWrapper);case 14:(v=g.sent)?this.publishResult(v,(_=this.context.inputImageWrapper)===null||_===void 0?void 0:_.data):this.publishResult();case 16:case"end":return g.stop()}},r,this)})),function(){return d.apply(this,arguments)})},{key:"startContinuousUpdate",value:function(){var r,a=this,u=null,f=1e3/(((r=this.context.config)===null||r===void 0?void 0:r.frequency)||60);this.context.stopped=!1;var v=this.context;(function _(g){u=u||g,v.stopped||(g>=u&&(u+=f,a.update()),window.requestAnimationFrame(_))})(performance.now())}},{key:"start",value:function(){var r,a;this.context.onUIThread&&((r=this.context.config)===null||r===void 0||(a=r.inputStream)===null||a===void 0?void 0:a.type)==="LiveStream"?this.startContinuousUpdate():this.update()}},{key:"stop",value:(x=R()(D.a.mark(function r(){var a;return D.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.context.stopped=!0,De(0),(a=this.context.config)===null||a===void 0||!a.inputStream||this.context.config.inputStream.type!=="LiveStream"){u.next=6;break}return u.next=5,vt.release();case 5:this.context.inputStream.clearEventHandlers();case 6:case"end":return u.stop()}},r,this)})),function(){return x.apply(this,arguments)})},{key:"setReaders",value:function(r){this.context.decoder&&this.context.decoder.setReaders(r),function(a){oe.forEach(function(u){return u.worker.postMessage({cmd:"setReaders",readers:a})})}(r)}},{key:"registerReader",value:function(r,a){kt.registerReader(r,a),this.context.decoder&&this.context.decoder.registerReader(r,a),function(u,f){oe.forEach(function(v){return v.worker.postMessage({cmd:"registerReader",name:u,reader:f})})}(r,a)}}]),m}(),Ze=new Ge,_t=Ze.context,Ft={init:function(m,x,d){var r,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ze;return x||(r=new Promise(function(u,f){x=function(v){v?f(v):u()}})),a.context.config=h()({},Dn,m),a.context.config.numOfWorkers>0&&(a.context.config.numOfWorkers=0),d?(a.context.onUIThread=!1,a.initializeData(d),x&&x()):a.initInputStream(x),r},start:function(){return Ze.start()},stop:function(){return Ze.stop()},pause:function(){_t.stopped=!0},onDetected:function(m){m&&(typeof m=="function"||s()(m)==="object"&&m.callback)?Xe.subscribe("detected",m):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(m){Xe.unsubscribe("detected",m)},onProcessed:function(m){m&&(typeof m=="function"||s()(m)==="object"&&m.callback)?Xe.subscribe("processed",m):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(m){Xe.unsubscribe("processed",m)},setReaders:function(m){m?Ze.setReaders(m):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(m,x){m?x?Ze.registerReader(m,x):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(m){m&&typeof m.addResult=="function"&&(_t.resultCollector=m)},get canvas(){return _t.canvasContainer},decodeSingle:function(m,x){var d=this,r=new Ge;return(m=h()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:m.src},numOfWorkers:1,locator:{halfSample:!1}},m)).numOfWorkers>0&&(m.numOfWorkers=0),m.numOfWorkers>0&&(typeof Blob>"u"||typeof Worker>"u")&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),m.numOfWorkers=0),new Promise(function(a,u){try{d.init(m,function(){Xe.once("processed",function(f){r.stop(),x&&x.call(null,f),a(f)},!0),r.start()},null,r)}catch(f){u(f)}})},get default(){return Ft},Readers:n,CameraAccess:vt,ImageDebug:H.a,ImageWrapper:w.a,ResultCollector:Sr};o.default=Ft}]).default})});var Bi=uo((Qt,Mt)=>{"use strict";var na=200,_i="__lodash_hash_undefined__",oa=800,ia=16,xi=9007199254740991,bi="[object Arguments]",aa="[object Array]",ua="[object AsyncFunction]",ca="[object Boolean]",sa="[object Date]",la="[object Error]",wi="[object Function]",fa="[object GeneratorFunction]",da="[object Map]",pa="[object Number]",ha="[object Null]",Ci="[object Object]",ma="[object Proxy]",va="[object RegExp]",ga="[object Set]",ya="[object String]",_a="[object Undefined]",xa="[object WeakMap]",ba="[object ArrayBuffer]",wa="[object DataView]",Ca="[object Float32Array]",Sa="[object Float64Array]",Oa="[object Int8Array]",Ra="[object Int16Array]",Ma="[object Int32Array]",Ea="[object Uint8Array]",Ta="[object Uint8ClampedArray]",Pa="[object Uint16Array]",Aa="[object Uint32Array]",Ia=/[\\^$.*+?()[\]{}|]/g,Da=/^\[object .+?Constructor\]$/,ka=/^(?:0|[1-9]\d*)$/,Se={};Se[Ca]=Se[Sa]=Se[Oa]=Se[Ra]=Se[Ma]=Se[Ea]=Se[Ta]=Se[Pa]=Se[Aa]=!0;Se[bi]=Se[aa]=Se[ba]=Se[ca]=Se[wa]=Se[sa]=Se[la]=Se[wi]=Se[da]=Se[pa]=Se[Ci]=Se[va]=Se[ga]=Se[ya]=Se[xa]=!1;var Si=typeof global=="object"&&global&&global.Object===Object&&global,ja=typeof self=="object"&&self&&self.Object===Object&&self,Yt=Si||ja||Function("return this")(),Oi=typeof Qt=="object"&&Qt&&!Qt.nodeType&&Qt,Xt=Oi&&typeof Mt=="object"&&Mt&&!Mt.nodeType&&Mt,Ri=Xt&&Xt.exports===Oi,Yn=Ri&&Si.process,li=function(){try{var t=Xt&&Xt.require&&Xt.require("util").types;return t||Yn&&Yn.binding&&Yn.binding("util")}catch{}}(),fi=li&&li.isTypedArray;function Mi(t,o,e){switch(e.length){case 0:return t.call(o);case 1:return t.call(o,e[0]);case 2:return t.call(o,e[0],e[1]);case 3:return t.call(o,e[0],e[1],e[2])}return t.apply(o,e)}function za(t,o){for(var e=-1,n=Array(t);++e<t;)n[e]=o(e);return n}function La(t){return function(o){return t(o)}}function Fa(t,o){return t?.[o]}function Na(t,o){return function(e){return t(o(e))}}var Ba=Array.prototype,Ua=Function.prototype,rn=Object.prototype,Kn=Yt["__core-js_shared__"],nn=Ua.toString,tt=rn.hasOwnProperty,di=function(){var t=/[^.]+$/.exec(Kn&&Kn.keys&&Kn.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ei=rn.toString,Wa=nn.call(Object),qa=RegExp("^"+nn.call(tt).replace(Ia,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),en=Ri?Yt.Buffer:void 0,pi=Yt.Symbol,hi=Yt.Uint8Array,mi=en?en.allocUnsafe:void 0,Ti=Na(Object.getPrototypeOf,Object),vi=Object.create,Va=rn.propertyIsEnumerable,Ga=Ba.splice,dt=pi?pi.toStringTag:void 0,tn=function(){try{var t=oo(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Ha=en?en.isBuffer:void 0,gi=Math.max,Qa=Date.now,Pi=oo(Yt,"Map"),$t=oo(Object,"create"),Xa=function(){function t(){}return function(o){if(!et(o))return{};if(vi)return vi(o);t.prototype=o;var e=new t;return t.prototype=void 0,e}}();function pt(t){var o=-1,e=t==null?0:t.length;for(this.clear();++o<e;){var n=t[o];this.set(n[0],n[1])}}function $a(){this.__data__=$t?$t(null):{},this.size=0}function Ya(t){var o=this.has(t)&&delete this.__data__[t];return this.size-=o?1:0,o}function Ka(t){var o=this.__data__;if($t){var e=o[t];return e===_i?void 0:e}return tt.call(o,t)?o[t]:void 0}function Za(t){var o=this.__data__;return $t?o[t]!==void 0:tt.call(o,t)}function Ja(t,o){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=$t&&o===void 0?_i:o,this}pt.prototype.clear=$a;pt.prototype.delete=Ya;pt.prototype.get=Ka;pt.prototype.has=Za;pt.prototype.set=Ja;function rt(t){var o=-1,e=t==null?0:t.length;for(this.clear();++o<e;){var n=t[o];this.set(n[0],n[1])}}function eu(){this.__data__=[],this.size=0}function tu(t){var o=this.__data__,e=on(o,t);if(e<0)return!1;var n=o.length-1;return e==n?o.pop():Ga.call(o,e,1),--this.size,!0}function ru(t){var o=this.__data__,e=on(o,t);return e<0?void 0:o[e][1]}function nu(t){return on(this.__data__,t)>-1}function ou(t,o){var e=this.__data__,n=on(e,t);return n<0?(++this.size,e.push([t,o])):e[n][1]=o,this}rt.prototype.clear=eu;rt.prototype.delete=tu;rt.prototype.get=ru;rt.prototype.has=nu;rt.prototype.set=ou;function Et(t){var o=-1,e=t==null?0:t.length;for(this.clear();++o<e;){var n=t[o];this.set(n[0],n[1])}}function iu(){this.size=0,this.__data__={hash:new pt,map:new(Pi||rt),string:new pt}}function au(t){var o=un(this,t).delete(t);return this.size-=o?1:0,o}function uu(t){return un(this,t).get(t)}function cu(t){return un(this,t).has(t)}function su(t,o){var e=un(this,t),n=e.size;return e.set(t,o),this.size+=e.size==n?0:1,this}Et.prototype.clear=iu;Et.prototype.delete=au;Et.prototype.get=uu;Et.prototype.has=cu;Et.prototype.set=su;function Tt(t){var o=this.__data__=new rt(t);this.size=o.size}function lu(){this.__data__=new rt,this.size=0}function fu(t){var o=this.__data__,e=o.delete(t);return this.size=o.size,e}function du(t){return this.__data__.get(t)}function pu(t){return this.__data__.has(t)}function hu(t,o){var e=this.__data__;if(e instanceof rt){var n=e.__data__;if(!Pi||n.length<na-1)return n.push([t,o]),this.size=++e.size,this;e=this.__data__=new Et(n)}return e.set(t,o),this.size=e.size,this}Tt.prototype.clear=lu;Tt.prototype.delete=fu;Tt.prototype.get=du;Tt.prototype.has=pu;Tt.prototype.set=hu;function mu(t,o){var e=to(t),n=!e&&eo(t),i=!e&&!n&&ji(t),s=!e&&!n&&!i&&Li(t),l=e||n||i||s,h=l?za(t.length,String):[],w=h.length;for(var S in t)(o||tt.call(t,S))&&!(l&&(S=="length"||i&&(S=="offset"||S=="parent")||s&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||Di(S,w)))&&h.push(S);return h}function Zn(t,o,e){(e!==void 0&&!cn(t[o],e)||e===void 0&&!(o in t))&&ro(t,o,e)}function vu(t,o,e){var n=t[o];(!(tt.call(t,o)&&cn(n,e))||e===void 0&&!(o in t))&&ro(t,o,e)}function on(t,o){for(var e=t.length;e--;)if(cn(t[e][0],o))return e;return-1}function ro(t,o,e){o=="__proto__"&&tn?tn(t,o,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[o]=e}var gu=Tu();function an(t){return t==null?t===void 0?_a:ha:dt&&dt in Object(t)?Pu(t):zu(t)}function yi(t){return Kt(t)&&an(t)==bi}function yu(t){if(!et(t)||ku(t))return!1;var o=ao(t)?qa:Da;return o.test(Bu(t))}function _u(t){return Kt(t)&&zi(t.length)&&!!Se[an(t)]}function xu(t){if(!et(t))return ju(t);var o=ki(t),e=[];for(var n in t)n=="constructor"&&(o||!tt.call(t,n))||e.push(n);return e}function no(t,o,e,n,i){t!==o&&gu(o,function(s,l){if(i||(i=new Tt),et(s))bu(t,o,l,e,no,n,i);else{var h=n?n(Jn(t,l),s,l+"",t,o,i):void 0;h===void 0&&(h=s),Zn(t,l,h)}},Fi)}function bu(t,o,e,n,i,s,l){var h=Jn(t,e),w=Jn(o,e),S=l.get(w);if(S){Zn(t,e,S);return}var R=s?s(h,w,e+"",t,o,l):void 0,N=R===void 0;if(N){var D=to(w),H=!D&&ji(w),ee=!D&&!H&&Li(w);R=w,D||H||ee?to(h)?R=h:Uu(h)?R=Ru(h):H?(N=!1,R=Cu(w,!0)):ee?(N=!1,R=Ou(w,!0)):R=[]:Wu(w)||eo(w)?(R=h,eo(h)?R=qu(h):(!et(h)||ao(h))&&(R=Au(w))):N=!1}N&&(l.set(w,R),i(R,w,n,s,l),l.delete(w)),Zn(t,e,R)}function Ai(t,o){return Fu(Lu(t,o,Ni),t+"")}var wu=tn?function(t,o){return tn(t,"toString",{configurable:!0,enumerable:!1,value:Hu(o),writable:!0})}:Ni;function Cu(t,o){if(o)return t.slice();var e=t.length,n=mi?mi(e):new t.constructor(e);return t.copy(n),n}function Su(t){var o=new t.constructor(t.byteLength);return new hi(o).set(new hi(t)),o}function Ou(t,o){var e=o?Su(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}function Ru(t,o){var e=-1,n=t.length;for(o||(o=Array(n));++e<n;)o[e]=t[e];return o}function Mu(t,o,e,n){var i=!e;e||(e={});for(var s=-1,l=o.length;++s<l;){var h=o[s],w=n?n(e[h],t[h],h,e,t):void 0;w===void 0&&(w=t[h]),i?ro(e,h,w):vu(e,h,w)}return e}function Eu(t){return Ai(function(o,e){var n=-1,i=e.length,s=i>1?e[i-1]:void 0,l=i>2?e[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,l&&Iu(e[0],e[1],l)&&(s=i<3?void 0:s,i=1),o=Object(o);++n<i;){var h=e[n];h&&t(o,h,n,s)}return o})}function Tu(t){return function(o,e,n){for(var i=-1,s=Object(o),l=n(o),h=l.length;h--;){var w=l[t?h:++i];if(e(s[w],w,s)===!1)break}return o}}function Ii(t,o,e,n,i,s){return et(t)&&et(o)&&(s.set(o,t),no(t,o,void 0,Ii,s),s.delete(o)),t}function un(t,o){var e=t.__data__;return Du(o)?e[typeof o=="string"?"string":"hash"]:e.map}function oo(t,o){var e=Fa(t,o);return yu(e)?e:void 0}function Pu(t){var o=tt.call(t,dt),e=t[dt];try{t[dt]=void 0;var n=!0}catch{}var i=Ei.call(t);return n&&(o?t[dt]=e:delete t[dt]),i}function Au(t){return typeof t.constructor=="function"&&!ki(t)?Xa(Ti(t)):{}}function Di(t,o){var e=typeof t;return o=o??xi,!!o&&(e=="number"||e!="symbol"&&ka.test(t))&&t>-1&&t%1==0&&t<o}function Iu(t,o,e){if(!et(e))return!1;var n=typeof o;return(n=="number"?io(e)&&Di(o,e.length):n=="string"&&o in e)?cn(e[o],t):!1}function Du(t){var o=typeof t;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?t!=="__proto__":t===null}function ku(t){return!!di&&di in t}function ki(t){var o=t&&t.constructor,e=typeof o=="function"&&o.prototype||rn;return t===e}function ju(t){var o=[];if(t!=null)for(var e in Object(t))o.push(e);return o}function zu(t){return Ei.call(t)}function Lu(t,o,e){return o=gi(o===void 0?t.length-1:o,0),function(){for(var n=arguments,i=-1,s=gi(n.length-o,0),l=Array(s);++i<s;)l[i]=n[o+i];i=-1;for(var h=Array(o+1);++i<o;)h[i]=n[i];return h[o]=e(l),Mi(t,this,h)}}function Jn(t,o){if(!(o==="constructor"&&typeof t[o]=="function")&&o!="__proto__")return t[o]}var Fu=Nu(wu);function Nu(t){var o=0,e=0;return function(){var n=Qa(),i=ia-(n-e);if(e=n,i>0){if(++o>=oa)return arguments[0]}else o=0;return t.apply(void 0,arguments)}}function Bu(t){if(t!=null){try{return nn.call(t)}catch{}try{return t+""}catch{}}return""}function cn(t,o){return t===o||t!==t&&o!==o}var eo=yi(function(){return arguments}())?yi:function(t){return Kt(t)&&tt.call(t,"callee")&&!Va.call(t,"callee")},to=Array.isArray;function io(t){return t!=null&&zi(t.length)&&!ao(t)}function Uu(t){return Kt(t)&&io(t)}var ji=Ha||Qu;function ao(t){if(!et(t))return!1;var o=an(t);return o==wi||o==fa||o==ua||o==ma}function zi(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=xi}function et(t){var o=typeof t;return t!=null&&(o=="object"||o=="function")}function Kt(t){return t!=null&&typeof t=="object"}function Wu(t){if(!Kt(t)||an(t)!=Ci)return!1;var o=Ti(t);if(o===null)return!0;var e=tt.call(o,"constructor")&&o.constructor;return typeof e=="function"&&e instanceof e&&nn.call(e)==Wa}var Li=fi?La(fi):_u;function qu(t){return Mu(t,Fi(t))}var Vu=Ai(function(t){return t.push(void 0,Ii),Mi(Gu,void 0,t)});function Fi(t){return io(t)?mu(t,!0):xu(t)}var Gu=Eu(function(t,o,e,n){no(t,o,e,n)});function Hu(t){return function(){return t}}function Ni(t){return t}function Qu(){return!1}Mt.exports=Vu});var Ht=class{customer;items;subTotal;discount;grandTotal;constructor(){this.items=[],this.subTotal=0,this.discount=0,this.grandTotal=0}};var Xr=class{product;quantity};var $r=class{static playSaleEffect(){var o=new Audio("assets/sounds/sale-pulse.mp3");o.play()}};var Yr=class{saleId;customerId;saleItems;subTotal;grandTotal;discount},Kr=class{saleItemId;saleId;productId;quantity};var Ot=class t{addProductSubject=new lo;addItem(o,e){this.getItem(o,e)?this.increaseQty(o,e):this.addNewItem(o,e),$r.playSaleEffect()}addNewItem(o,e){let n=new Xr;n.product=o,n.quantity=1,e.items?.push(n),this.updateAmout(e)}increaseQty(o,e){let n=this.getItem(o,e);n&&n.quantity&&n.quantity<o.basicDetails.quantity&&(n.quantity++,this.updateAmout(e))}decreaseQty(o,e){let n=this.getItem(o,e);n&&n.quantity&&n.quantity>1&&(n.quantity--,this.updateAmout(e))}itemExists(o,e){if(e&&e.items){for(let n of e.items)if(n.product?.productId==o?.productId)return!0;return!1}return!1}removeItem(o,e){if(e&&e.items)for(let n=0;n<e.items.length;n++)e.items[n].product?.productId==o?.productId&&(e.items.splice(n,1),this.updateAmout(e))}getItem(o,e){if(e&&e.items){for(let n of e.items)if(n.product?.productId==o?.productId)return n;return null}return null}updateAmout(o){if(o&&o.items){o.subTotal=0,o.grandTotal=0;for(let e of o.items){let n=this.getItemTotal(e)||0;o.subTotal+=n}o.grandTotal=o.subTotal-o.subTotal*(o.discount||0)}}getItemTotal(o){return o&&o.product&&o.quantity?o.product.priceDetails.sellingPrice*o.quantity:null}cartToSaleRequest(o){if(o.items){let e=new Yr;return e.customerId=o.customer?.customerId,e.subTotal=o.subTotal,e.grandTotal=o.grandTotal,e.discount=o.discount,e.saleItems=this.cartItemsToSaleItems(o.items),e}return{}}cartItemsToSaleItems(o){let e=[];for(let n of o){let i=new Kr;i.productId=n.product?.productId,i.quantity=n.quantity,e.push(i)}return e}static \u0275fac=function(e){return new(e||t)};static \u0275prov=Pr({token:t,factory:t.\u0275fac,providedIn:"root"})};var Rt=class t{constructor(o){this.http=o}basUrl=To.apiBaseUrl+"/sale";createSale(o){return this.http.post(this.basUrl,o)}getSalesPage(o){return this.http.get(`${this.basUrl}?page=${o.page}&size=${o.size}`)}static \u0275fac=function(e){return new(e||t)(vo(wo))};static \u0275prov=Pr({token:t,factory:t.\u0275fac,providedIn:"root"})};var Xi=()=>({minWidth:"30rem",overflow:"hidden"}),ci=()=>({width:"100%"}),$i=()=>({width:"100%",border:"1px dashed"}),Yi=()=>({width:"3rem"});function Ki(t,o){if(t&1&&(se(0,"div",20),Me(1,"p-avatar",21),se(2,"div"),xe(3),fe(),se(4,"span",22),xe(5),fe()()),t&2){let e=o.$implicit;pe(),we("label",e.firstName.toUpperCase()[0]+e.lastName.toUpperCase()[0]),pe(2),it(e.phone),pe(2),ke("( ",e.firstName+" "+e.lastName," )")}}function Zi(t,o){t&1&&(se(0,"div",23),xe(1," Empty cart! "),fe())}function Ji(t,o){if(t&1){let e=ze();se(0,"span",33),Le("click",function(){Pe(e);let i=Ie().$implicit,s=Ie();return Ae(s.increaseQty(i))}),Me(1,"span",34),fe()}}function ea(t,o){if(t&1){let e=ze();se(0,"span",33),Le("click",function(){Pe(e);let i=Ie().$implicit,s=Ie();return Ae(s.decreaseQty(i))}),Me(1,"span",35),fe()}}function ta(t,o){if(t&1){let e=ze();se(0,"div",24),Me(1,"img",25),se(2,"div",26)(3,"div",27)(4,"div",28),xe(5),fe(),se(6,"span",29),xe(7),fe()(),se(8,"div",30)(9,"p-inputnumber",31),Wt("ngModelChange",function(i){let s=Pe(e).$implicit;return Ut(s.quantity,i)||(s.quantity=i),Ae(i)}),Be(10,Ji,2,0,"ng-template",null,1,Ue)(12,ea,2,0,"ng-template",null,2,Ue),fe()()(),se(14,"p-button",32),Le("onClick",function(){let i=Pe(e).$implicit,s=Ie();return Ae(s.removeItem(i))}),fe()()}if(t&2){let e=o.$implicit,n=Ie();pe(),we("src",n.getProductImageSrc(e.product),Ar)("alt",e.product.basicDetails.productName),pe(3),we("pTooltip",e.product==null||e.product.basicDetails==null?null:e.product.basicDetails.productName),pe(),ke(" ",e.product==null||e.product.basicDetails==null?null:e.product.basicDetails.productName," "),pe(2),it(n.cartService.getItemTotal(e)),pe(2),Bt("ngModel",e.quantity),we("max",(e.product==null||e.product.basicDetails==null?null:e.product.basicDetails.quantity)||99)("showButtons",!0)("inputStyle",$e(11,Yi)),pe(5),we("rounded",!0)("text",!0)}}function ra(t,o){if(t&1){let e=ze();se(0,"div",36)(1,"p-button",37),Le("onClick",function(){Pe(e);let i=Ie();return Ae(i.submitOrder())}),fe()()}if(t&2){let e=Ie();pe(),Nt($e(4,ci)),we("loading",e.orderLoading)("disabled",!e.cart.items||!e.cart.items.length)}}var Zr=class t{constructor(o,e,n,i){this.cartService=o;this.customerService=e;this.saleService=n;this.toast=i}cart;customers=[];orderLoading=!1;addCustomerDialog=!1;ngOnInit(){this.cart=new Ht,this.cartService.addProductSubject.subscribe(o=>{this.cartService.addItem(o,this.cart)})}searchCustomers(o){this.customerService.filterCustomersByPhone(o.query).subscribe(e=>this.customers=e.data)}getProductImageSrc(o){return Qr.getFirstImageSrc(o)}increaseQty(o){this.cartService.increaseQty(o.product,this.cart)}decreaseQty(o){this.cartService.decreaseQty(o.product,this.cart)}removeItem(o){this.cartService.removeItem(o.product,this.cart)}submitOrder(){if(!this.cart.customer){this.toast.showWarn("Please select customer");return}this.orderLoading=!0,this.saleService.createSale(this.cartService.cartToSaleRequest(this.cart)).subscribe(o=>{o.success&&(this.toast.showSuccess("Order saved, Thank you!"),this.orderLoading=!1,this.cart=new Ht)},o=>{this.toast.showError(o.error.message),this.orderLoading=!1})}static \u0275fac=function(e){return new(e||t)(He(Ot),He(ti),He(Rt),He(ei))};static \u0275cmp=ot({type:t,selectors:[["app-pos-sale-details"]],decls:35,vars:18,consts:[["footer",""],["incrementbuttonicon",""],["decrementbuttonicon",""],[1,"search-customers","mb-8"],[1,"flex","flex-col","gap-2","mb-4"],[1,"text-lg"],["optionLabel","phone",3,"ngModelChange","completeMethod","dropdown","ngModel","suggestions"],["pTemplate","item"],["label","Add new customer","icon","pi pi-plus","outlined","true",3,"onClick"],[1,"order-details"],[1,"mb-4","text-lg"],["class","no-items text-center text-surface-600",4,"ngIf"],[1,"order-items","overflow-auto","flex","flex-col","gap-2","mb-6",2,"max-height","20rem"],["class","order-item flex gap-4 items-center justify-between",4,"ngFor","ngForOf"],[1,"total"],[1,"flex","justify-between"],[1,"mb-4","text-surface-400"],[1,"border-dashed"],[1,"mb-4","font-bold","text-lg"],[3,"visible"],[1,"flex","gap-2","items-center"],["shape","circle",3,"label"],[1,"font-sm"],[1,"no-items","text-center","text-surface-600"],[1,"order-item","flex","gap-4","items-center","justify-between"],[1,"rounded","w-full",2,"width","50px","height","50px","object-fit","cover",3,"src","alt"],[1,"flex","items-center","justify-between","w-full"],[1,"flex","flex-col"],["tooltipPosition","top",1,"mb-2","text-max-lines-1",3,"pTooltip"],[1,"text-primary"],[1,"item-actions","ml-1","mr-1"],["readonly","true","min","1","buttonLayout","horizontal","spinnerMode","horizontal",3,"ngModelChange","ngModel","max","showButtons","inputStyle"],["icon","pi pi-times","severity","danger",3,"onClick","rounded","text"],[1,"w-full","h-full","flex","items-center","justify-center",3,"click"],[1,"pi","pi-plus"],[1,"pi","pi-minus"],[1,"payment","text-lg"],["label","PROCESS ORDER",3,"onClick","loading","disabled"]],template:function(e,n){if(e&1){let i=ze();se(0,"p-card")(1,"div",3)(2,"div",4)(3,"div",5),xe(4,"Customer Details"),fe(),se(5,"p-autocomplete",6),Wt("ngModelChange",function(l){return Pe(i),Ut(n.cart.customer,l)||(n.cart.customer=l),Ae(l)}),Le("completeMethod",function(l){return Pe(i),Ae(n.searchCustomers(l))}),Be(6,Ki,6,3,"ng-template",7),fe()(),se(7,"p-button",8),Le("onClick",function(){return Pe(i),Ae(n.addCustomerDialog=!0)}),fe()(),se(8,"div",9)(9,"div",10),xe(10," Order Details "),fe(),Be(11,Zi,2,0,"div",11),se(12,"div",12),Be(13,ta,15,12,"div",13),fe(),se(14,"div",14)(15,"div",15)(16,"div",16),xe(17," Subtotal "),fe(),se(18,"span"),xe(19),fe()(),se(20,"div",15)(21,"div",16),xe(22," Discount "),fe(),se(23,"span"),xe(24),fe()(),Me(25,"hr",17),se(26,"div",15)(27,"div",18),xe(28," Total Amount "),fe(),se(29,"span"),xe(30),fe()()()(),Be(31,ra,2,5,"ng-template",null,0,Ue),fe(),Me(33,"p-toast")(34,"app-customer-create-dialog",19)}e&2&&(Nt($e(15,Xi)),pe(5),Nt($e(16,ci)),we("dropdown",!0),Bt("ngModel",n.cart.customer),we("suggestions",n.customers),pe(2),Nt($e(17,$i)),pe(4),we("ngIf",!n.cart.items||!n.cart.items.length),pe(2),we("ngForOf",n.cart.items),pe(6),it(n.cart.subTotal),pe(5),it(n.cart.discount),pe(6),it(n.cart.grandTotal),pe(4),we("visible",n.addCustomerDialog))},dependencies:[Ct,Fr,Co,Ye,zr,_o,wt,Lr,Ro,Vr,Wr,St,Hr,Gr,Ho,Go,$o,ko,qo,ri,Nr],styles:[".scrolling-text-wrapper[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap}.scrolling-text[_ngcontent-%COMP%]{display:inline-block;font-weight:700;animation:_ngcontent-%COMP%_scroll-text 5s linear infinite}@keyframes _ngcontent-%COMP%_scroll-text{0%{transform:translate(100%)}to{transform:translate(-100%)}}"]})};var We=co(si(),1),qi=co(Bi(),1);var Xu=["BarcodeScanner"];var $u={inputStream:{name:"Live",type:"LiveStream",target:null,constraints:{width:{min:640},height:{min:480},aspectRatio:{min:1,max:2},facingMode:"environment"},singleChannel:!1},locator:{patchSize:"medium",halfSample:!0},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]}},Yu=["code_128","code_39","code_39_vin","ean","ean_extended","ean_8","upc","upc_e","codabar","i2of5","2of5","code_93"];function Ku(t){return typeof t=="string"?(Ui(t),[Wi(t)]):t.map(o=>(Ui(o),Wi(o)))}function Ui(t){if(!Yu.some(o=>o===t))throw new Error(`This barcode type '${t}' is not valid.`)}function Wi(t){return`${t}_reader`}var sn=(()=>{class t{constructor(){this.maxWidth="100%",this._valueChanges=new Hn,this.valueChanges=new Qn,this.started=new Qn,this._started=!1,this._destroyed=new Hn,this._valueChanges.pipe(mo(this._destroyed),fo(e=>{let n=e.codeResult.decodedCodes.filter(s=>s.error!==void 0).map(s=>s.error),i=this._getMedian(n);return!this.errorFilter||!(this.errorFilter.median&&i>this.errorFilter.median||this.errorFilter.threshold&&n.some(s=>s>this.errorFilter.threshold))})).subscribe(e=>{let n=We.default.canvas.ctx.overlay;We.default.ImageDebug.drawPath(e.line,{x:"x",y:"y"},n,{color:"red",lineWidth:3}),this.valueChanges.next(e)})}set torch(e){let n=We.default.CameraAccess.getActiveTrack();n&&n.applyConstraints({advanced:[{torch:e}]})}get _maxWidth(){return this.maxWidth?`${this.maxWidth}`:"auto"}get _maxHeight(){return this.maxHeight?`${this.maxHeight}`:"auto"}get isStarted(){return this._started}ngOnDestroy(){this.stop(),this._destroyed.next(!0),this._destroyed.complete()}ngOnChanges(){this.restart()}_init(){return new Promise((e,n)=>{We.default.onProcessed(i=>this.onProcessed(i)),We.default.onDetected(i=>this.onDetected(i)),this.configQuagga=(0,qi.default)({},this.config,$u),this.configQuagga.inputStream.target=this.barcodeScanner.nativeElement,this.type&&(this.configQuagga.decoder.readers=Ku(this.type)),this.deviceId&&(this.configQuagga.inputStream.constraints.deviceId=this.deviceId),We.default.init(this.configQuagga,i=>{if(i)return console.log(i),n(i);e()})})}_getMedian(e){e.sort((i,s)=>i-s);let n=Math.floor(e.length/2);return e.length%2===1?e[n]:(e[n-1]+e[n])/2}start(){return so(this,null,function*(){this._started||(yield this._init(),We.default.start(),this._started=!0,this.started.next(!0))})}stop(){this._started&&(We.default.stop(),this._started=!1,this.started.next(!1))}restart(){this._started&&(this.stop(),this.start())}onProcessed(e){let n=We.default.canvas.ctx.overlay,i=We.default.canvas.dom.overlay;e&&(e.boxes&&(n.clearRect(0,0,parseInt(i.getAttribute("width"),10),parseInt(i.getAttribute("height"),10)),e.boxes.filter(s=>s!==e.box).forEach(s=>{We.default.ImageDebug.drawPath(s,{x:0,y:1},n,{color:"green",lineWidth:2})})),e.box&&We.default.ImageDebug.drawPath(e.box,{x:0,y:1},n,{color:"#00F",lineWidth:2}))}onDetected(e){this._valueChanges.next(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ot({type:t,selectors:[["barcode-scanner-livestream"]],viewQuery:function(e,n){if(e&1&&Dr(Xu,5),e&2){let i;kr(i=jr())&&(n.barcodeScanner=i.first)}},inputs:{type:"type",deviceId:"deviceId",maxWidth:"maxWidth",maxHeight:"maxHeight",config:"config",errorFilter:"errorFilter",torch:"torch"},outputs:{valueChanges:"valueChanges",started:"started"},standalone:!1,features:[go],decls:4,vars:13,consts:[["BarcodeScanner",""],[1,"scanner",3,"hidden"],[1,"drawingBuffer"]],template:function(e,n){e&1&&(se(0,"div",1,0),Me(2,"video")(3,"canvas",2),fe()),e&2&&(Ir("max-height",n._maxHeight)("max-width",n._maxWidth),we("hidden",!n.isStarted),pe(2),Ir("max-height",n._maxHeight)("max-width",n._maxWidth),pe(),Ir("max-height",n._maxHeight)("max-width",n._maxWidth))},styles:[`.scanner{position:relative}.scanner video,.scanner canvas{width:100%;height:100%}.scanner canvas.drawingBuffer{position:absolute;left:0;top:0}
`],encapsulation:2}),t})(),Vi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=bt({type:t}),t.\u0275inj=xt({imports:[Ye]}),t})();function ec(t,o){if(t&1){let e=ze();se(0,"div",7)(1,"p-iconfield"),Me(2,"p-inputicon",8)(3,"input",9),fe(),se(4,"p-paginator",10),Le("onPageChange",function(i){Pe(e);let s=Ie();return Ae(s.onPageChange(i))}),fe()()}if(t&2){let e=Ie();pe(3),we("formControl",e.globalSearchControl),pe(),we("first",e.pageReq.page*e.pageReq.size)("rows",e.pageReq.size)("totalRecords",(e.pageDetails==null?null:e.pageDetails.totalElements)||0)("showCurrentPageReport",!0)("showPageLinks",!1)("showJumpToPageDropdown",!1)}}function tc(t,o){if(t&1){let e=ze();se(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",16),Me(4,"img",17)(5,"p-tag",18),fe()(),se(6,"div",19)(7,"div")(8,"div",20),xe(9),fe(),se(10,"div",21),xe(11),fe()(),se(12,"div",22)(13,"div",23)(14,"span",24),xe(15),Je(16,"currency"),fe(),se(17,"span",25),xe(18),Je(19,"currency"),fe()(),se(20,"div",26)(21,"button",27),Le("click",function(){let i=Pe(e).$implicit,s=Ie(2);return Ae(s.addProductToCart(i))}),fe()()()()()()}if(t&2){let e=o.$implicit,n=Ie(2);pe(4),we("src",n.getProductImageSrc(e),Ar)("alt",e.basicDetails==null?null:e.basicDetails.productName),pe(),we("value","QTY: "+e.basicDetails.quantity)("severity",n.getQuantitySeverity(e)),pe(4),ke(" ",e.basicDetails==null||e.basicDetails.productCategory==null?null:e.basicDetails.productCategory.name," "),pe(),we("pTooltip",e.basicDetails==null?null:e.basicDetails.productName),pe(),ke(" ",e.basicDetails.productName," "),pe(4),ke(" ",Vt(16,9,e.priceDetails.sellingPrice,"USD")," "),pe(3),ke(" ",Vt(19,12,e.priceDetails.sellingPrice,"USD")," ")}}function rc(t,o){if(t&1&&(se(0,"div",11),Be(1,tc,22,15,"div",12),fe()),t&2){let e=o.$implicit;pe(),we("ngForOf",e)}}var ln=class t{constructor(o,e){this.productService=o;this.cartService=e}globalSearchControl=new Oo("");pageReq=new Gt(0,8);pageDetails;products=[];barcodeScanner;barcodeValue;ngOnInit(){this.subscribeForGlobalSearch(),this.getProducts()}ngAfterViewInit(){this.barcodeScanner.start()}onValueChanges(o){this.barcodeValue=o.codeResult.code}onStarted(o){console.log(o)}subscribeForGlobalSearch(){this.pageReq=new Gt(0,8),this.globalSearchControl.valueChanges.pipe(po(300),ho(o=>this.productService.searchByKeyword(o||"",this.pageReq))).subscribe(o=>{o.success&&(this.products=o.data.content,this.pageDetails=o.data.page)})}getProducts(){this.productService.getProductsPage(this.pageReq).subscribe(o=>{o.success&&(this.products=o.data.content,this.pageDetails=o.data.page)})}getQuantitySeverity(o){return o.basicDetails.quantity>o.basicDetails.lowStockPoint?"success":o.basicDetails.quantity<=o.basicDetails.lowStockPoint?"warn":o.basicDetails.quantity==0?"danger":"info"}getProductImageSrc(o){return Qr.getFirstImageSrc(o)}addProductToCart(o){this.cartService.addProductSubject.next(o)}onPageChange(o){this.pageReq.page=o.page,this.pageReq.size=o.rows,this.getProducts()}static \u0275fac=function(e){return new(e||t)(He(Jo),He(Ot))};static \u0275cmp=ot({type:t,selectors:[["app-pos"]],viewQuery:function(e,n){if(e&1&&Dr(sn,5),e&2){let i;kr(i=jr())&&(n.barcodeScanner=i.first)}},decls:12,vars:3,consts:[["dv",""],["header",""],["grid",""],[1,"flex","gap-2","h-full"],["layout","grid",3,"value"],["type","code_128",3,"started","valueChanges"],[3,"hidden"],[1,"flex","items-center","justify-between"],["styleClass","pi pi-barcode"],["pInputText","","type","text","placeholder","Search products...",1,"w-80",3,"formControl"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords}",3,"onPageChange","first","rows","totalRecords","showCurrentPageReport","showPageLinks","showJumpToPageDropdown"],[1,"grid","grid-cols-12","gap-4"],["class","col-span-12 sm:col-span-6 md:col-span-4 xl:col-span-3 p-2",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-6","md:col-span-4","xl:col-span-3","p-2"],[1,"p-3","border","border-surface-200","dark:border-surface-700","bg-surface-0","dark:bg-surface-900","rounded","flex","flex-col"],[1,"bg-surface-50","flex","justify-center","rounded","p-1"],[1,"relative","mx-auto"],[1,"rounded","w-full",2,"width","360px","height","120px","object-fit","cover",3,"src","alt"],["styleClass","dark:!bg-surface-900",1,"absolute","absolute","top-0","left-0",3,"value","severity"],[1,"pt-4"],[1,"text-right","text-red-300"],["tooltipPosition","top",1,"mt-1","text-overflow-ellipsis","overflow-hidden","text-max-lines-2",3,"pTooltip"],[1,"flex","flex-col","gap-6","mt-6"],[1,"flex","gap-3"],[1,"text-sm","text-surface-400","line-through"],[1,"font-semibold"],[1,"flex","gap-2"],["pButton","","icon","pi pi-shopping-cart","label","Buy Now","outlined","true",1,"flex-auto","whitespace-nowrap",3,"click"]],template:function(e,n){if(e&1){let i=ze();se(0,"div",3),Me(1,"app-pos-sale-details"),se(2,"p-card")(3,"p-dataview",4,0),Be(5,ec,5,7,"ng-template",null,1,Ue)(7,rc,2,1,"ng-template",null,2,Ue),fe()()(),se(9,"barcode-scanner-livestream",5),Le("started",function(l){return Pe(i),Ae(n.onStarted(l))})("valueChanges",function(l){return Pe(i),Ae(n.onValueChanges(l))}),fe(),se(10,"div",6),xe(11),fe()}e&2&&(pe(3),we("value",n.products),pe(7),we("hidden",!n.barcodeValue),pe(),ke(" ",n.barcodeValue,`
`))},dependencies:[Qo,Xo,Ct,Do,Ye,zr,bo,wt,So,Lr,Eo,Mo,Vr,qr,Wr,Ur,St,Br,Hr,Gr,Zr,Vi,sn,zo,jo,Nr],encapsulation:2})};var nc=()=>["phone","firstName","lastName"],oc=()=>({"min-width":"75rem"}),ic=()=>[10,20,30];function ac(t,o){if(t&1){let e=ze();Me(0,"p-button",8),se(1,"p-button",9),Le("onClick",function(){Pe(e);let i=Ie();return Ae(i.deleteSelectedSales())}),fe()}if(t&2){let e=Ie();pe(),we("disabled",!e.selectedSales||!e.selectedSales.length)}}function uc(t,o){t&1&&Me(0,"p-button",10)}function cc(t,o){if(t&1){let e=ze();se(0,"div",11)(1,"h5",12),xe(2),Je(3,"translate"),fe(),se(4,"p-iconfield"),Me(5,"p-inputicon",13),se(6,"input",14),Le("input",function(i){Pe(e);let s=Ie(),l=yo(6);return Ae(s.onGlobalFilter(l,i))}),fe()()()}t&2&&(pe(2),it(qt(3,1,"SALE_HISTORY")))}function sc(t,o){t&1&&(se(0,"tr")(1,"th",15),Me(2,"p-tableHeaderCheckbox"),fe(),se(3,"th",16),xe(4),Je(5,"translate"),Me(6,"p-sortIcon",17),fe(),se(7,"th",18),xe(8),Je(9,"translate"),Me(10,"p-sortIcon",19),fe(),se(11,"th",20),xe(12),Je(13,"translate"),Me(14,"p-sortIcon",21),fe()()),t&2&&(pe(4),ke(" ",qt(5,3,"DATE")," "),pe(4),ke(" ",qt(9,5,"CUSTOMER")," "),pe(4),ke(" ",qt(13,7,"GRAND_TOTAL")," "))}function lc(t,o){if(t&1&&(se(0,"tr")(1,"td"),Me(2,"p-tableCheckbox",22),fe(),se(3,"td"),xe(4),Je(5,"date"),fe(),se(6,"td"),xe(7),fe(),se(8,"td"),xe(9),fe()()),t&2){let e=o.$implicit;pe(2),we("value",e),pe(2),ke(" ",Vt(5,4,e.createdAt,"medium")," "),pe(3),ke(" ",e.customer.firstName+" "+e.customer.lastName," "),pe(2),ke(" ",e.grandTotal," ")}}var fn=class t{constructor(o,e){this.saleService=o;this.translate=e}loading=!1;pageReq=new Gt(0,10);salesList=[];sale;selectedSales;cols;mode;ngOnInit(){this.getSalesPage()}getSalesPage(){this.loading=!0,this.saleService.getSalesPage(this.pageReq).subscribe(o=>{o.success&&(this.salesList=o.data.content,this.loading=!1)})}onGlobalFilter(o,e){o.filterGlobal(e.target.value,"contains")}deleteSale(o){}deleteSelectedSales(){}static \u0275fac=function(e){return new(e||t)(He(Rt),He(Po))};static \u0275cmp=ot({type:t,selectors:[["app-sales-list"]],decls:13,vars:14,consts:[["start",""],["end",""],["dt",""],["caption",""],["header",""],["body",""],["styleClass","mb-6"],["dataKey","customerId","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} customers",3,"selectionChange","value","rows","columns","loading","paginator","globalFilterFields","tableStyle","selection","rowHover","showCurrentPageReport","rowsPerPageOptions"],["label","New","icon","pi pi-plus","severity","secondary",1,"mr-2"],["severity","secondary","label","Delete","icon","pi pi-trash","outlined","",3,"onClick","disabled"],["label","Export","icon","pi pi-upload","severity","secondary"],[1,"flex","items-center","justify-between"],[1,"m-0"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],[2,"width","3rem"],["pSortableColumn","createdAt"],["field","createdAt"],["pSortableColumn","customer"],["field","customer"],["pSortableColumn","grandTotal"],["field","grandTotal"],[3,"value"]],template:function(e,n){if(e&1){let i=ze();se(0,"p-toolbar",6),Be(1,ac,2,1,"ng-template",null,0,Ue)(3,uc,1,0,"ng-template",null,1,Ue),fe(),se(5,"p-table",7,2),Wt("selectionChange",function(l){return Pe(i),Ut(n.selectedSales,l)||(n.selectedSales=l),Ae(l)}),Be(7,cc,7,3,"ng-template",null,3,Ue)(9,sc,15,9,"ng-template",null,4,Ue)(11,lc,10,7,"ng-template",null,5,Ue),fe()}e&2&&(pe(5),we("value",n.salesList)("rows",10)("columns",n.cols)("loading",n.loading)("paginator",!0)("globalFilterFields",$e(11,nc))("tableStyle",$e(12,oc)),Bt("selection",n.selectedSales),we("rowHover",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",$e(13,ic)))},dependencies:[Ye,xo,Wo,Lo,Fo,No,Bo,Uo,wt,Ct,Fr,Vo,St,Br,Ko,Yo,Zo,Io,Ao,Ur,qr],encapsulation:2})};var fc=[{path:"pos",component:ln},{path:"list",component:fn}],dn=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=bt({type:t});static \u0275inj=xt({imports:[Xn.forChild(fc),Xn]})};var Gi=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=bt({type:t});static \u0275inj=xt({imports:[Ye,dn]})};export{Gi as SalesModule};
