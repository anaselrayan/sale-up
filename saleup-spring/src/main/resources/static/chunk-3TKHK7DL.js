import{a as X}from"./chunk-WIRIMW56.js";import{a as G,c as U,d as H,e as k}from"./chunk-5UAWEPHZ.js";import{e as Y,f as J,g as K}from"./chunk-EQLXSBQK.js";import{c as Q}from"./chunk-RUYHRMRN.js";import{Ia as D,Ja as v,La as M,Ma as B,Na as A,Oa as d,Qa as P,Ta as q,Ua as L,Xa as O,Ya as j,b as R,lb as V,mb as W,rb as $,sb as z}from"./chunk-YJSGKVHH.js";import{$a as c,Ab as f,Db as x,Jb as o,Kb as t,Lb as s,Rb as h,_ as N,_a as a,cc as r,da as y,dc as l,dd as F,gc as T,hc as E,ic as w,kc as _,lb as I,uc as p,vc as u}from"./chunk-TMGVZNBO.js";var C=class m{constructor(e){this.http=e}baseUrl=G.apiBaseUrl+"/customer";getCustomersPage(e){return this.http.get(`${this.baseUrl}?page=${e.page}&size=${e.size}`)}createCustomer(e){return this.http.post(this.baseUrl,e)}filterCustomersByPhone(e){return this.http.get(`${this.baseUrl}/filter?key=${e}`)}static \u0275fac=function(i){return new(i||m)(y(R))};static \u0275prov=N({token:m,factory:m.\u0275fac,providedIn:"root"})};var b=class{customerId;firstName;lastName;email;phone;country;address};var ie=()=>({width:"450px"}),Z=class m{constructor(e,i,n){this.customerService=e;this.toast=i;this.translate=n}customerForm;visible=!1;dialogHeader="";saveLoading=!1;ngOnInit(){this.initCustomerForm()}initCustomerForm(){this.customerForm=new A({phone:new d(null,[v.required]),firstName:new d(null,[v.required]),lastName:new d(null,[v.required]),email:new d(null),country:new d(null),address:new d(null)})}getCustomerRequest(){let e=new b,i=this.customerForm.value;return e.phone=i.phone,e.firstName=i.firstName,e.lastName=i.lastName,e.email=i.email,e.address=i.address,e.country=i.country,e}onSaveCustomer(){if(!this.customerForm.valid){this.toast.showError(this.translate.instant("REQUIRED_FIELDS_MSG"));return}this.saveLoading=!0,this.customerService.createCustomer(this.getCustomerRequest()).subscribe(e=>{this.saveLoading=!1,e.success&&this.toast.showSuccess("Customer Created")},e=>{this.toast.showError(e.error?.message),this.saveLoading=!1}),this.visible=!1}static \u0275fac=function(i){return new(i||m)(c(C),c(X),c(U))};static \u0275cmp=I({type:m,selectors:[["app-customer-create-dialog"]],inputs:{visible:"visible"},decls:41,vars:26,consts:[[3,"visibleChange","visible","header","modal"],[3,"ngSubmit","formGroup"],[1,"flex","items-center","gap-4","mb-4"],["for","phone",1,"font-semibold","w-24"],[1,"text-red-500"],["formControlName","phone","pInputText","","id","phone","autocomplete","off",1,"flex-auto"],["for","firstName",1,"font-semibold","w-24"],["formControlName","firstName","pInputText","","id","firstName","autocomplete","off",1,"flex-auto"],["for","lastName",1,"font-semibold","w-24"],["formControlName","lastName","pInputText","","id","lastName","autocomplete","off",1,"flex-auto"],["for","email",1,"font-semibold","w-24"],["formControlName","email","pInputText","","id","email","autocomplete","off",1,"flex-auto"],["for","address",1,"font-semibold","w-24"],["formControlName","address","pInputText","","id","address","autocomplete","off",1,"flex-auto"],["for","country",1,"font-semibold","w-24"],["formControlName","country","pInputText","","id","country","autocomplete","off",1,"flex-auto"],[1,"flex","justify-end","gap-2"],["label","Cancel","severity","secondary",3,"click"],["label","Save","type","submit",3,"loading"]],template:function(i,n){i&1&&(o(0,"p-dialog",0),w("visibleChange",function(g){return E(n.visible,g)||(n.visible=g),g}),o(1,"form",1),h("ngSubmit",function(){return n.onSaveCustomer()}),o(2,"div",2)(3,"label",3),r(4),p(5,"translate"),o(6,"span",4),r(7," * "),t()(),s(8,"input",5),t(),o(9,"div",2)(10,"label",6),r(11),p(12,"translate"),o(13,"span",4),r(14," * "),t()(),s(15,"input",7),t(),o(16,"div",2)(17,"label",8),r(18),p(19,"translate"),o(20,"span",4),r(21," * "),t()(),s(22,"input",9),t(),o(23,"div",2)(24,"label",10),r(25),p(26,"translate"),t(),s(27,"input",11),t(),o(28,"div",2)(29,"label",12),r(30),p(31,"translate"),t(),s(32,"input",13),t(),o(33,"div",2)(34,"label",14),r(35),p(36,"translate"),t(),s(37,"input",15),t(),o(38,"div",16)(39,"p-button",17),h("click",function(){return n.visible=!1}),t(),s(40,"p-button",18),t()()()),i&2&&(x(_(25,ie)),T("visible",n.visible),f("header",n.dialogHeader)("modal",!0),a(),f("formGroup",n.customerForm),a(3),l(u(5,13,"PHONE")),a(7),l(u(12,15,"FIRST_NAME")),a(7),l(u(19,17,"LAST_NAME")),a(7),l(u(26,19,"EMAIL")),a(5),l(u(31,21,"ADDRESS")),a(5),l(u(36,23,"COUNTRY")),a(5),f("loading",n.saveLoading))},dependencies:[F,O,P,D,M,B,j,q,L,W,V,Q,Y,z,$,K,J,k,H],encapsulation:2})};export{C as a,Z as b};
